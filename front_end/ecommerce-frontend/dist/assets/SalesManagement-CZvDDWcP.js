import{_ as Gt,e as Z,z as dt,f as Jt,A as qe,c as R,o as Y,a as p,m as kr,h as rt,B as pa,p as un,d as re,F as _e,q as ke,i as Ke,j as zn,n as Yt,t as X,b as Kt,k as ga,g as me,s as ma}from"./index-Clrnze2-.js";function be(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function va(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function he(t){let e,n,r;t.length!==2?(e=be,n=(l,f)=>be(t(l),f),r=(l,f)=>t(l)-f):(e=t===be||t===va?t:ya,n=t,r=t);function a(l,f,s=0,u=l.length){if(s<u){if(e(f,f)!==0)return u;do{const c=s+u>>>1;n(l[c],f)<0?s=c+1:u=c}while(s<u)}return s}function i(l,f,s=0,u=l.length){if(s<u){if(e(f,f)!==0)return u;do{const c=s+u>>>1;n(l[c],f)<=0?s=c+1:u=c}while(s<u)}return s}function o(l,f,s=0,u=l.length){const c=a(l,f,s,u-1);return c>s&&r(l[c-1],f)>-r(l[c],f)?c-1:c}return{left:a,center:o,right:i}}function ya(){return 0}function wa(t){return t===null?NaN:+t}const xa=he(be),_a=xa.right;he(wa).center;function Be(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}const ka=Math.sqrt(50),ba=Math.sqrt(10),Ma=Math.sqrt(2);function Ce(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=ka?10:i>=ba?5:i>=Ma?2:1;let l,f,s;return a<0?(s=Math.pow(10,-a)/o,l=Math.round(t*s),f=Math.round(e*s),l/s<t&&++l,f/s>e&&--f,s=-s):(s=Math.pow(10,a)*o,l=Math.round(t/s),f=Math.round(e/s),l*s<t&&++l,f*s>e&&--f),f<l&&.5<=n&&n<2?Ce(t,e,n*2):[l,f,s]}function Da(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?Ce(e,t,n):Ce(t,e,n);if(!(i>=a))return[];const l=i-a+1,f=new Array(l);if(r)if(o<0)for(let s=0;s<l;++s)f[s]=(i-s)/-o;else for(let s=0;s<l;++s)f[s]=(i-s)*o;else if(o<0)for(let s=0;s<l;++s)f[s]=(a+s)/-o;else for(let s=0;s<l;++s)f[s]=(a+s)*o;return f}function cn(t,e,n){return e=+e,t=+t,n=+n,Ce(t,e,n)[2]}function fn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?cn(e,t,n):cn(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function le(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Sa(t){return t}var je=1,Me=2,hn=3,ae=4,Hn=1e-6;function Ta(t){return"translate("+t+",0)"}function Ca(t){return"translate(0,"+t+")"}function $a(t){return e=>+t(e)}function Aa(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Fa(){return!this.__axis}function bn(t,e){var n=[],r=null,a=null,i=6,o=6,l=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===je||t===ae?-1:1,u=t===ae||t===Me?"x":"y",c=t===je||t===hn?Ta:Ca;function h(d){var y=r??(e.ticks?e.ticks.apply(e,n):e.domain()),M=a??(e.tickFormat?e.tickFormat.apply(e,n):Sa),w=Math.max(i,0)+l,$=e.range(),F=+$[0]+f,S=+$[$.length-1]+f,U=(e.bandwidth?Aa:$a)(e.copy(),f),_=d.selection?d.selection():d,b=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(y,e).order(),B=x.exit(),V=x.enter().append("g").attr("class","tick"),G=x.select("line"),C=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(V),G=G.merge(V.append("line").attr("stroke","currentColor").attr(u+"2",s*i)),C=C.merge(V.append("text").attr("fill","currentColor").attr(u,s*w).attr("dy",t===je?"0em":t===hn?"0.71em":"0.32em")),d!==_&&(b=b.transition(d),x=x.transition(d),G=G.transition(d),C=C.transition(d),B=B.transition(d).attr("opacity",Hn).attr("transform",function(N){return isFinite(N=U(N))?c(N+f):this.getAttribute("transform")}),V.attr("opacity",Hn).attr("transform",function(N){var z=this.parentNode.__axis;return c((z&&isFinite(z=z(N))?z:U(N))+f)})),B.remove(),b.attr("d",t===ae||t===Me?o?"M"+s*o+","+F+"H"+f+"V"+S+"H"+s*o:"M"+f+","+F+"V"+S:o?"M"+F+","+s*o+"V"+f+"H"+S+"V"+s*o:"M"+F+","+f+"H"+S),x.attr("opacity",1).attr("transform",function(N){return c(U(N)+f)}),G.attr(u+"2",s*i),C.attr(u,s*w).text(M),_.filter(Fa).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Me?"start":t===ae?"end":"middle"),_.each(function(){this.__axis=U})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(a=d,h):a},h.tickSize=function(d){return arguments.length?(i=o=+d,h):i},h.tickSizeInner=function(d){return arguments.length?(i=+d,h):i},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(l=+d,h):l},h.offset=function(d){return arguments.length?(f=+d,h):f},h}function Na(t){return bn(Me,t)}function Ve(t){return bn(hn,t)}function Ct(t){return bn(ae,t)}var Ua={value:()=>{}};function br(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new De(n)}function De(t){this._=t}function Pa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}De.prototype=br.prototype={constructor:De,on:function(t,e){var n=this._,r=Pa(t+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(t=r[i]).type)&&(a=Ea(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(a=(t=r[i]).type)n[a]=On(n[a],t.name,e);else if(e==null)for(a in n)n[a]=On(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new De(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function Ea(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function On(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=Ua,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var dn="http://www.w3.org/1999/xhtml";const In={svg:"http://www.w3.org/2000/svg",xhtml:dn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function We(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),In.hasOwnProperty(e)?{space:In[e],local:t}:t}function La(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dn&&e.documentElement.namespaceURI===dn?e.createElement(t):e.createElementNS(n,t)}}function Ra(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Mr(t){var e=We(t);return(e.local?Ra:La)(e)}function Ya(){}function Mn(t){return t==null?Ya:function(){return this.querySelector(t)}}function za(t){typeof t!="function"&&(t=Mn(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,l=r[a]=new Array(o),f,s,u=0;u<o;++u)(f=i[u])&&(s=t.call(f,f.__data__,u,i))&&("__data__"in f&&(s.__data__=f.__data__),l[u]=s);return new ut(r,this._parents)}function Ha(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Oa(){return[]}function Dr(t){return t==null?Oa:function(){return this.querySelectorAll(t)}}function Ia(t){return function(){return Ha(t.apply(this,arguments))}}function qa(t){typeof t=="function"?t=Ia(t):t=Dr(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o=e[i],l=o.length,f,s=0;s<l;++s)(f=o[s])&&(r.push(t.call(f,f.__data__,s,o)),a.push(f));return new ut(r,a)}function Sr(t){return function(){return this.matches(t)}}function Tr(t){return function(e){return e.matches(t)}}var Ba=Array.prototype.find;function Va(t){return function(){return Ba.call(this.children,t)}}function Wa(){return this.firstElementChild}function Xa(t){return this.select(t==null?Wa:Va(typeof t=="function"?t:Tr(t)))}var Za=Array.prototype.filter;function Qa(){return Array.from(this.children)}function Ga(t){return function(){return Za.call(this.children,t)}}function Ja(t){return this.selectAll(t==null?Qa:Ga(typeof t=="function"?t:Tr(t)))}function Ka(t){typeof t!="function"&&(t=Sr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,l=r[a]=[],f,s=0;s<o;++s)(f=i[s])&&t.call(f,f.__data__,s,i)&&l.push(f);return new ut(r,this._parents)}function Cr(t){return new Array(t.length)}function ja(){return new ut(this._enter||this._groups.map(Cr),this._parents)}function $e(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$e.prototype={constructor:$e,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ti(t){return function(){return t}}function ei(t,e,n,r,a,i){for(var o=0,l,f=e.length,s=i.length;o<s;++o)(l=e[o])?(l.__data__=i[o],r[o]=l):n[o]=new $e(t,i[o]);for(;o<f;++o)(l=e[o])&&(a[o]=l)}function ni(t,e,n,r,a,i,o){var l,f,s=new Map,u=e.length,c=i.length,h=new Array(u),d;for(l=0;l<u;++l)(f=e[l])&&(h[l]=d=o.call(f,f.__data__,l,e)+"",s.has(d)?a[l]=f:s.set(d,f));for(l=0;l<c;++l)d=o.call(t,i[l],l,i)+"",(f=s.get(d))?(r[l]=f,f.__data__=i[l],s.delete(d)):n[l]=new $e(t,i[l]);for(l=0;l<u;++l)(f=e[l])&&s.get(h[l])===f&&(a[l]=f)}function ri(t){return t.__data__}function ai(t,e){if(!arguments.length)return Array.from(this,ri);var n=e?ni:ei,r=this._parents,a=this._groups;typeof t!="function"&&(t=ti(t));for(var i=a.length,o=new Array(i),l=new Array(i),f=new Array(i),s=0;s<i;++s){var u=r[s],c=a[s],h=c.length,d=ii(t.call(u,u&&u.__data__,s,r)),y=d.length,M=l[s]=new Array(y),w=o[s]=new Array(y),$=f[s]=new Array(h);n(u,c,M,w,$,d,e);for(var F=0,S=0,U,_;F<y;++F)if(U=M[F]){for(F>=S&&(S=F+1);!(_=w[S])&&++S<y;);U._next=_||null}}return o=new ut(o,r),o._enter=l,o._exit=f,o}function ii(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oi(){return new ut(this._exit||this._groups.map(Cr),this._parents)}function si(t,e,n){var r=this.enter(),a=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function li(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),f=0;f<o;++f)for(var s=n[f],u=r[f],c=s.length,h=l[f]=new Array(c),d,y=0;y<c;++y)(d=s[y]||u[y])&&(h[y]=d);for(;f<a;++f)l[f]=n[f];return new ut(l,this._parents)}function ui(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function ci(t){t||(t=fi);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,f=a[i]=new Array(l),s,u=0;u<l;++u)(s=o[u])&&(f[u]=s);f.sort(e)}return new ut(a,this._parents).order()}function fi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function di(){return Array.from(this)}function pi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function gi(){let t=0;for(const e of this)++t;return t}function mi(){return!this.node()}function vi(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&t.call(l,l.__data__,i,a);return this}function yi(t){return function(){this.removeAttribute(t)}}function wi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xi(t,e){return function(){this.setAttribute(t,e)}}function _i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ki(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mi(t,e){var n=We(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?wi:yi:typeof e=="function"?n.local?bi:ki:n.local?_i:xi)(n,e))}function $r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Di(t){return function(){this.style.removeProperty(t)}}function Si(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ti(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ci(t,e,n){return arguments.length>1?this.each((e==null?Di:typeof e=="function"?Ti:Si)(t,e,n??"")):qt(this.node(),t)}function qt(t,e){return t.style.getPropertyValue(e)||$r(t).getComputedStyle(t,null).getPropertyValue(e)}function $i(t){return function(){delete this[t]}}function Ai(t,e){return function(){this[t]=e}}function Fi(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ni(t,e){return arguments.length>1?this.each((e==null?$i:typeof e=="function"?Fi:Ai)(t,e)):this.node()[t]}function Ar(t){return t.trim().split(/^|\s+/)}function Dn(t){return t.classList||new Fr(t)}function Fr(t){this._node=t,this._names=Ar(t.getAttribute("class")||"")}Fr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nr(t,e){for(var n=Dn(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function Ur(t,e){for(var n=Dn(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function Ui(t){return function(){Nr(this,t)}}function Pi(t){return function(){Ur(this,t)}}function Ei(t,e){return function(){(e.apply(this,arguments)?Nr:Ur)(this,t)}}function Li(t,e){var n=Ar(t+"");if(arguments.length<2){for(var r=Dn(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?Ei:e?Ui:Pi)(n,e))}function Ri(){this.textContent=""}function Yi(t){return function(){this.textContent=t}}function zi(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Hi(t){return arguments.length?this.each(t==null?Ri:(typeof t=="function"?zi:Yi)(t)):this.node().textContent}function Oi(){this.innerHTML=""}function Ii(t){return function(){this.innerHTML=t}}function qi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Bi(t){return arguments.length?this.each(t==null?Oi:(typeof t=="function"?qi:Ii)(t)):this.node().innerHTML}function Vi(){this.nextSibling&&this.parentNode.appendChild(this)}function Wi(){return this.each(Vi)}function Xi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zi(){return this.each(Xi)}function Qi(t){var e=typeof t=="function"?t:Mr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Gi(){return null}function Ji(t,e){var n=typeof t=="function"?t:Mr(t),r=e==null?Gi:typeof e=="function"?e:Mn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ki(){var t=this.parentNode;t&&t.removeChild(this)}function ji(){return this.each(Ki)}function to(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function no(t){return this.select(t?eo:to)}function ro(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ao(t){return function(e){t.call(this,e,this.__data__)}}function io(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function oo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,a=e.length,i;n<a;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function so(t,e,n){return function(){var r=this.__on,a,i=ao(e);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=e;return}}this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function lo(t,e,n){var r=io(t+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,s=l.length,u;f<s;++f)for(a=0,u=l[f];a<i;++a)if((o=r[a]).type===u.type&&o.name===u.name)return u.value}return}for(l=e?so:oo,a=0;a<i;++a)this.each(l(r[a],e,n));return this}function Pr(t,e,n){var r=$r(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function uo(t,e){return function(){return Pr(this,t,e)}}function co(t,e){return function(){return Pr(this,t,e.apply(this,arguments))}}function fo(t,e){return this.each((typeof e=="function"?co:uo)(t,e))}function*ho(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var Er=[null];function ut(t,e){this._groups=t,this._parents=e}function de(){return new ut([[document.documentElement]],Er)}function po(){return this}ut.prototype=de.prototype={constructor:ut,select:za,selectAll:qa,selectChild:Xa,selectChildren:Ja,filter:Ka,data:ai,enter:ja,exit:oi,join:si,merge:li,selection:po,order:ui,sort:ci,call:hi,nodes:di,node:pi,size:gi,empty:mi,each:vi,attr:Mi,style:Ci,property:Ni,classed:Li,text:Hi,html:Bi,raise:Wi,lower:Zi,append:Qi,insert:Ji,remove:ji,clone:no,datum:ro,on:lo,dispatch:fo,[Symbol.iterator]:ho};function j(t){return typeof t=="string"?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],Er)}function go(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ae(t,e){if(t=go(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}function mo(t){return new ut([document.querySelectorAll(t)],[document.documentElement])}function Sn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pe(){}var ue=.7,Fe=1/ue,It="\\s*([+-]?\\d+)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vo=/^#([0-9a-f]{3,8})$/,yo=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),wo=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),xo=new RegExp(`^rgba\\(${It},${It},${It},${ce}\\)$`),_o=new RegExp(`^rgba\\(${wt},${wt},${wt},${ce}\\)$`),ko=new RegExp(`^hsl\\(${ce},${wt},${wt}\\)$`),bo=new RegExp(`^hsla\\(${ce},${wt},${wt},${ce}\\)$`),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sn(pe,Ut,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bn,formatHex:Bn,formatHex8:Mo,formatHsl:Do,formatRgb:Vn,toString:Vn});function Bn(){return this.rgb().formatHex()}function Mo(){return this.rgb().formatHex8()}function Do(){return Rr(this).formatHsl()}function Vn(){return this.rgb().formatRgb()}function Ut(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Wn(e):n===3?new st(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ve(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ve(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yo.exec(t))?new st(e[1],e[2],e[3],1):(e=wo.exec(t))?new st(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xo.exec(t))?ve(e[1],e[2],e[3],e[4]):(e=_o.exec(t))?ve(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ko.exec(t))?Qn(e[1],e[2]/100,e[3]/100,1):(e=bo.exec(t))?Qn(e[1],e[2]/100,e[3]/100,e[4]):qn.hasOwnProperty(t)?Wn(qn[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function Wn(t){return new st(t>>16&255,t>>8&255,t&255,1)}function ve(t,e,n,r){return r<=0&&(t=e=n=NaN),new st(t,e,n,r)}function So(t){return t instanceof pe||(t=Ut(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function pn(t,e,n,r){return arguments.length===1?So(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Sn(st,pn,Lr(pe,{brighter(t){return t=t==null?Fe:Math.pow(Fe,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ue:Math.pow(ue,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st(Nt(this.r),Nt(this.g),Nt(this.b),Ne(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:To,formatRgb:Zn,toString:Zn}));function Xn(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}`}function To(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}${Ft((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zn(){const t=Ne(this.opacity);return`${t===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${t===1?")":`, ${t})`}`}function Ne(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ft(t){return t=Nt(t),(t<16?"0":"")+t.toString(16)}function Qn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,r)}function Rr(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof pe||(t=Ut(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,f=(i+a)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=f<.5?i+a:2-i-a,o*=60):l=f>0&&f<1?0:o,new mt(o,l,f,t.opacity)}function Co(t,e,n,r){return arguments.length===1?Rr(t):new mt(t,e,n,r??1)}function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Sn(mt,Co,Lr(pe,{brighter(t){return t=t==null?Fe:Math.pow(Fe,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ue:Math.pow(ue,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new st(tn(t>=240?t-240:t+120,a,r),tn(t,a,r),tn(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new mt(Gn(this.h),ye(this.s),ye(this.l),Ne(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ne(this.opacity);return`${t===1?"hsl(":"hsla("}${Gn(this.h)}, ${ye(this.s)*100}%, ${ye(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Gn(t){return t=(t||0)%360,t<0?t+360:t}function ye(t){return Math.max(0,Math.min(1,t||0))}function tn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Tn=t=>()=>t;function $o(t,e){return function(n){return t+n*e}}function Ao(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Fo(t){return(t=+t)==1?Yr:function(e,n){return n-e?Ao(e,n,t):Tn(isNaN(e)?n:e)}}function Yr(t,e){var n=e-t;return n?$o(t,n):Tn(isNaN(t)?e:t)}const Ue=function t(e){var n=Fo(e);function r(a,i){var o=n((a=pn(a)).r,(i=pn(i)).r),l=n(a.g,i.g),f=n(a.b,i.b),s=Yr(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=f(u),a.opacity=s(u),a+""}}return r.gamma=t,r}(1);function No(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function Uo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Po(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Cn(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function Eo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Lo(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Cn(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,en=new RegExp(gn.source,"g");function Ro(t){return function(){return t}}function Yo(t){return function(e){return t(e)+""}}function zr(t,e){var n=gn.lastIndex=en.lastIndex=0,r,a,i,o=-1,l=[],f=[];for(t=t+"",e=e+"";(r=gn.exec(t))&&(a=en.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,f.push({i:o,x:gt(r,a)})),n=en.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?f[0]?Yo(f[0].x):Ro(e):(e=f.length,function(s){for(var u=0,c;u<e;++u)l[(c=f[u]).i]=c.x(s);return l.join("")})}function Cn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Tn(e):(n==="number"?gt:n==="string"?(r=Ut(e))?(e=r,Ue):zr:e instanceof Ut?Ue:e instanceof Date?Eo:Uo(e)?No:Array.isArray(e)?Po:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lo:gt)(t,e)}function zo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Jn=180/Math.PI,mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hr(t,e,n,r,a,i){var o,l,f;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,f/=l),t*r<e*n&&(t=-t,e=-e,f=-f,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Jn,skewX:Math.atan(f)*Jn,scaleX:o,scaleY:l}}var we;function Ho(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mn:Hr(e.a,e.b,e.c,e.d,e.e,e.f)}function Oo(t){return t==null||(we||(we=document.createElementNS("http://www.w3.org/2000/svg","g")),we.setAttribute("transform",t),!(t=we.transform.baseVal.consolidate()))?mn:(t=t.matrix,Hr(t.a,t.b,t.c,t.d,t.e,t.f))}function Or(t,e,n,r){function a(s){return s.length?s.pop()+" ":""}function i(s,u,c,h,d,y){if(s!==c||u!==h){var M=d.push("translate(",null,e,null,n);y.push({i:M-4,x:gt(s,c)},{i:M-2,x:gt(u,h)})}else(c||h)&&d.push("translate("+c+e+h+n)}function o(s,u,c,h){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),h.push({i:c.push(a(c)+"rotate(",null,r)-2,x:gt(s,u)})):u&&c.push(a(c)+"rotate("+u+r)}function l(s,u,c,h){s!==u?h.push({i:c.push(a(c)+"skewX(",null,r)-2,x:gt(s,u)}):u&&c.push(a(c)+"skewX("+u+r)}function f(s,u,c,h,d,y){if(s!==c||u!==h){var M=d.push(a(d)+"scale(",null,",",null,")");y.push({i:M-4,x:gt(s,c)},{i:M-2,x:gt(u,h)})}else(c!==1||h!==1)&&d.push(a(d)+"scale("+c+","+h+")")}return function(s,u){var c=[],h=[];return s=t(s),u=t(u),i(s.translateX,s.translateY,u.translateX,u.translateY,c,h),o(s.rotate,u.rotate,c,h),l(s.skewX,u.skewX,c,h),f(s.scaleX,s.scaleY,u.scaleX,u.scaleY,c,h),s=u=null,function(d){for(var y=-1,M=h.length,w;++y<M;)c[(w=h[y]).i]=w.x(d);return c.join("")}}}var Io=Or(Ho,"px, ","px)","deg)"),qo=Or(Oo,", ",")",")"),Bt=0,ie=0,jt=0,Ir=1e3,Pe,oe,Ee=0,Pt=0,Xe=0,fe=typeof performance=="object"&&performance.now?performance:Date,qr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $n(){return Pt||(qr(Bo),Pt=fe.now()+Xe)}function Bo(){Pt=0}function Le(){this._call=this._time=this._next=null}Le.prototype=Br.prototype={constructor:Le,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?$n():+n)+(e==null?0:+e),!this._next&&oe!==this&&(oe?oe._next=this:Pe=this,oe=this),this._call=t,this._time=n,vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,vn())}};function Br(t,e,n){var r=new Le;return r.restart(t,e,n),r}function Vo(){$n(),++Bt;for(var t=Pe,e;t;)(e=Pt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Bt}function Kn(){Pt=(Ee=fe.now())+Xe,Bt=ie=0;try{Vo()}finally{Bt=0,Xo(),Pt=0}}function Wo(){var t=fe.now(),e=t-Ee;e>Ir&&(Xe-=e,Ee=t)}function Xo(){for(var t,e=Pe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Pe=n);oe=t,vn(r)}function vn(t){if(!Bt){ie&&(ie=clearTimeout(ie));var e=t-Pt;e>24?(t<1/0&&(ie=setTimeout(Kn,t-fe.now()-Xe)),jt&&(jt=clearInterval(jt))):(jt||(Ee=fe.now(),jt=setInterval(Wo,Ir)),Bt=1,qr(Kn))}}function jn(t,e,n){var r=new Le;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var Zo=br("start","end","cancel","interrupt"),Qo=[],Vr=0,tr=1,yn=2,Se=3,er=4,wn=5,Te=6;function Ze(t,e,n,r,a,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Go(t,n,{name:e,index:r,group:a,on:Zo,tween:Qo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vr})}function An(t,e){var n=vt(t,e);if(n.state>Vr)throw new Error("too late; already scheduled");return n}function xt(t,e){var n=vt(t,e);if(n.state>Se)throw new Error("too late; already running");return n}function vt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Go(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=Br(i,0,n.time);function i(s){n.state=tr,n.timer.restart(o,n.delay,n.time),n.delay<=s&&o(s-n.delay)}function o(s){var u,c,h,d;if(n.state!==tr)return f();for(u in r)if(d=r[u],d.name===n.name){if(d.state===Se)return jn(o);d.state===er?(d.state=Te,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=Te,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(jn(function(){n.state===Se&&(n.state=er,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=yn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===yn){for(n.state=Se,a=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(a[++c]=d);a.length=c+1}}function l(s){for(var u=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(f),n.state=wn,1),c=-1,h=a.length;++c<h;)a[c].call(t,u);n.state===wn&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Te,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function Jo(t,e){var n=t.__transition,r,a,i=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}a=r.state>yn&&r.state<wn,r.state=Te,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function Ko(t){return this.each(function(){Jo(this,t)})}function jo(t,e){var n,r;return function(){var a=xt(this,t),i=a.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function ts(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=xt(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:e,value:n},f=0,s=a.length;f<s;++f)if(a[f].name===e){a[f]=l;break}f===s&&a.push(l)}i.tween=a}}function es(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=vt(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===t)return o.value;return null}return this.each((e==null?jo:ts)(n,t,e))}function Fn(t,e,n){var r=t._id;return t.each(function(){var a=xt(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return vt(a,r).value[e]}}function Wr(t,e){var n;return(typeof e=="number"?gt:e instanceof Ut?Ue:(n=Ut(e))?(e=n,Ue):zr)(t,e)}function ns(t){return function(){this.removeAttribute(t)}}function rs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function as(t,e,n){var r,a=n+"",i;return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function is(t,e,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function os(t,e,n){var r,a,i;return function(){var o,l=n(this),f;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),f=l+"",o===f?null:o===r&&f===a?i:(a=f,i=e(r=o,l)))}}function ss(t,e,n){var r,a,i;return function(){var o,l=n(this),f;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),f=l+"",o===f?null:o===r&&f===a?i:(a=f,i=e(r=o,l)))}}function ls(t,e){var n=We(t),r=n==="transform"?qo:Wr;return this.attrTween(t,typeof e=="function"?(n.local?ss:os)(n,r,Fn(this,"attr."+t,e)):e==null?(n.local?rs:ns)(n):(n.local?is:as)(n,r,e))}function us(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function cs(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fs(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&cs(t,i)),n}return a._value=e,a}function hs(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&us(t,i)),n}return a._value=e,a}function ds(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=We(t);return this.tween(n,(r.local?fs:hs)(r,e))}function ps(t,e){return function(){An(this,t).delay=+e.apply(this,arguments)}}function gs(t,e){return e=+e,function(){An(this,t).delay=e}}function ms(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ps:gs)(e,t)):vt(this.node(),e).delay}function vs(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function ys(t,e){return e=+e,function(){xt(this,t).duration=e}}function ws(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vs:ys)(e,t)):vt(this.node(),e).duration}function xs(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function _s(t){var e=this._id;return arguments.length?this.each(xs(e,t)):vt(this.node(),e).ease}function ks(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,t).ease=n}}function bs(t){if(typeof t!="function")throw new Error;return this.each(ks(this._id,t))}function Ms(t){typeof t!="function"&&(t=Sr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,l=r[a]=[],f,s=0;s<o;++s)(f=i[s])&&t.call(f,f.__data__,s,i)&&l.push(f);return new Dt(r,this._parents,this._name,this._id)}function Ds(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var f=e[l],s=n[l],u=f.length,c=o[l]=new Array(u),h,d=0;d<u;++d)(h=f[d]||s[d])&&(c[d]=h);for(;l<r;++l)o[l]=e[l];return new Dt(o,this._parents,this._name,this._id)}function Ss(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ts(t,e,n){var r,a,i=Ss(e)?An:xt;return function(){var o=i(this,t),l=o.on;l!==r&&(a=(r=l).copy()).on(e,n),o.on=a}}function Cs(t,e){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(t):this.each(Ts(n,t,e))}function $s(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function As(){return this.on("end.remove",$s(this._id))}function Fs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Mn(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l=r[o],f=l.length,s=i[o]=new Array(f),u,c,h=0;h<f;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),s[h]=c,Ze(s[h],e,n,h,s,vt(u,n)));return new Dt(i,this._parents,e,n)}function Ns(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dr(t));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var f=r[l],s=f.length,u,c=0;c<s;++c)if(u=f[c]){for(var h=t.call(u,u.__data__,c,f),d,y=vt(u,n),M=0,w=h.length;M<w;++M)(d=h[M])&&Ze(d,e,n,M,h,y);i.push(h),o.push(u)}return new Dt(i,o,e,n)}var Us=de.prototype.constructor;function Ps(){return new Us(this._groups,this._parents)}function Es(t,e){var n,r,a;return function(){var i=qt(this,t),o=(this.style.removeProperty(t),qt(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}function Xr(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){var r,a=n+"",i;return function(){var o=qt(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function Rs(t,e,n){var r,a,i;return function(){var o=qt(this,t),l=n(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(t),qt(this,t))),o===f?null:o===r&&f===a?i:(a=f,i=e(r=o,l))}}function Ys(t,e){var n,r,a,i="style."+e,o="end."+i,l;return function(){var f=xt(this,t),s=f.on,u=f.value[i]==null?l||(l=Xr(e)):void 0;(s!==n||a!==u)&&(r=(n=s).copy()).on(o,a=u),f.on=r}}function zs(t,e,n){var r=(t+="")=="transform"?Io:Wr;return e==null?this.styleTween(t,Es(t,r)).on("end.style."+t,Xr(t)):typeof e=="function"?this.styleTween(t,Rs(t,r,Fn(this,"style."+t,e))).each(Ys(this._id,t)):this.styleTween(t,Ls(t,r,e),n).on("end.style."+t,null)}function Hs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Os(t,e,n){var r,a;function i(){var o=e.apply(this,arguments);return o!==a&&(r=(a=o)&&Hs(t,o,n)),r}return i._value=e,i}function Is(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Os(t,e,n??""))}function qs(t){return function(){this.textContent=t}}function Bs(t){return function(){var e=t(this);this.textContent=e??""}}function Vs(t){return this.tween("text",typeof t=="function"?Bs(Fn(this,"text",t)):qs(t==null?"":t+""))}function Ws(t){return function(e){this.textContent=t.call(this,e)}}function Xs(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&Ws(a)),e}return r._value=t,r}function Zs(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Xs(t))}function Qs(){for(var t=this._name,e=this._id,n=Zr(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,f,s=0;s<l;++s)if(f=o[s]){var u=vt(f,e);Ze(f,t,n,s,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Dt(r,this._parents,t,n)}function Gs(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var l={value:o},f={value:function(){--a===0&&i()}};n.each(function(){var s=xt(this,r),u=s.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(f)),s.on=e}),a===0&&i()})}var Js=0;function Dt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Zr(){return++Js}var _t=de.prototype;Dt.prototype={constructor:Dt,select:Fs,selectAll:Ns,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:Ms,merge:Ds,selection:Ps,transition:Qs,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:Cs,attr:ls,attrTween:ds,style:zs,styleTween:Is,text:Vs,textTween:Zs,remove:As,tween:es,delay:ms,duration:ws,ease:_s,easeVarying:bs,end:Gs,[Symbol.iterator]:_t[Symbol.iterator]};function Ks(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function js(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Qr(t){return 1-js(t)}var tl={time:null,delay:0,duration:250,ease:Ks};function el(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nl(t){var e,n;t instanceof Dt?(e=t._id,t=t._name):(e=Zr(),(n=tl).time=$n(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,f,s=0;s<l;++s)(f=o[s])&&Ze(f,t,e,s,o,n||el(f,e));return new Dt(r,this._parents,t,e)}de.prototype.interrupt=Ko;de.prototype.transition=nl;const xn=Math.PI,_n=2*xn,At=1e-6,rl=_n-At;function Gr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function al(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Gr;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class il{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Gr:al(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,f=r-e,s=a-n,u=o-e,c=l-n,h=u*u+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>At)if(!(Math.abs(c*f-s*u)>At)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,y=a-l,M=f*f+s*s,w=d*d+y*y,$=Math.sqrt(M),F=Math.sqrt(h),S=i*Math.tan((xn-Math.acos((M+h-w)/(2*$*F)))/2),U=S/F,_=S/$;Math.abs(U-1)>At&&this._append`L${e+U*u},${n+U*c}`,this._append`A${i},${i},0,0,${+(c*d>u*y)},${this._x1=e+_*f},${this._y1=n+_*s}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),f=r*Math.sin(a),s=e+l,u=n+f,c=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>At||Math.abs(this._y1-u)>At)&&this._append`L${s},${u}`,r&&(h<0&&(h=h%_n+_n),h>rl?this._append`A${r},${r},0,1,${c},${e-l},${n-f}A${r},${r},0,1,${c},${this._x1=s},${this._y1=u}`:h>At&&this._append`A${r},${r},0,${+(h>=xn)},${c},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ol(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Re(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vt(t){return t=Re(Math.abs(t)),t?t[1]:NaN}function sl(t,e){return function(n,r){for(var a=n.length,i=[],o=0,l=t[0],f=0;a>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),i.push(n.substring(a-=l,a+l)),!((f+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function ll(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ul=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ye(t){if(!(e=ul.exec(t)))throw new Error("invalid format: "+t);var e;return new Nn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ye.prototype=Nn.prototype;function Nn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cl(t){t:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Jr;function fl(t,e){var n=Re(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Jr=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Re(t,Math.max(0,e+i-1))[0]}function nr(t,e){var n=Re(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const rr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ol,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nr(t*100,e),r:nr,s:fl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ar(t){return t}var ir=Array.prototype.map,or=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hl(t){var e=t.grouping===void 0||t.thousands===void 0?ar:sl(ir.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?ar:ll(ir.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(c){c=Ye(c);var h=c.fill,d=c.align,y=c.sign,M=c.symbol,w=c.zero,$=c.width,F=c.comma,S=c.precision,U=c.trim,_=c.type;_==="n"?(F=!0,_="g"):rr[_]||(S===void 0&&(S=12),U=!0,_="g"),(w||h==="0"&&d==="=")&&(w=!0,h="0",d="=");var b=M==="$"?n:M==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",x=M==="$"?r:/[%p]/.test(_)?o:"",B=rr[_],V=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function G(C){var N=b,z=x,et,nt,at;if(_==="c")z=B(C)+z,C="";else{C=+C;var ct=C<0||1/C<0;if(C=isNaN(C)?f:B(Math.abs(C),S),U&&(C=cl(C)),ct&&+C==0&&y!=="+"&&(ct=!1),N=(ct?y==="("?y:l:y==="-"||y==="("?"":y)+N,z=(_==="s"?or[8+Jr/3]:"")+z+(ct&&y==="("?")":""),V){for(et=-1,nt=C.length;++et<nt;)if(at=C.charCodeAt(et),48>at||at>57){z=(at===46?a+C.slice(et+1):C.slice(et))+z,C=C.slice(0,et);break}}}F&&!w&&(C=e(C,1/0));var it=N.length+C.length+z.length,Q=it<$?new Array($-it+1).join(h):"";switch(F&&w&&(C=e(Q+C,Q.length?$-z.length:1/0),Q=""),d){case"<":C=N+C+z+Q;break;case"=":C=N+Q+C+z;break;case"^":C=Q.slice(0,it=Q.length>>1)+N+C+z+Q.slice(it);break;default:C=Q+N+C+z;break}return i(C)}return G.toString=function(){return c+""},G}function u(c,h){var d=s((c=Ye(c),c.type="f",c)),y=Math.max(-8,Math.min(8,Math.floor(Vt(h)/3)))*3,M=Math.pow(10,-y),w=or[8+y/3];return function($){return d(M*$)+w}}return{format:s,formatPrefix:u}}var xe,yt,Kr;dl({thousands:",",grouping:[3],currency:["$",""]});function dl(t){return xe=hl(t),yt=xe.format,Kr=xe.formatPrefix,xe}function pl(t){return Math.max(0,-Vt(Math.abs(t)))}function gl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vt(e)/3)))*3-Vt(Math.abs(t)))}function ml(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vt(e)-Vt(t))+1}function jr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vl(t){return function(){return t}}function yl(t){return+t}var sr=[0,1];function Ht(t){return t}function kn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vl(isNaN(e)?NaN:.5)}function wl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xl(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=kn(a,r),i=n(o,i)):(r=kn(r,a),i=n(i,o)),function(l){return i(r(l))}}function _l(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=kn(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var f=_a(t,l,1,r)-1;return i[f](a[f](l))}}function ta(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kl(){var t=sr,e=sr,n=Cn,r,a,i,o=Ht,l,f,s;function u(){var h=Math.min(t.length,e.length);return o!==Ht&&(o=wl(t[0],t[h-1])),l=h>2?_l:xl,f=s=null,c}function c(h){return h==null||isNaN(h=+h)?i:(f||(f=l(t.map(r),e,n)))(r(o(h)))}return c.invert=function(h){return o(a((s||(s=l(e,t.map(r),gt)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,yl),u()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=zo,u()},c.clamp=function(h){return arguments.length?(o=h?!0:Ht,u()):o!==Ht},c.interpolate=function(h){return arguments.length?(n=h,u()):n},c.unknown=function(h){return arguments.length?(i=h,c):i},function(h,d){return r=h,a=d,u()}}function ea(){return kl()(Ht,Ht)}function bl(t,e,n,r){var a=fn(t,e,n),i;switch(r=Ye(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=gl(a,o))&&(r.precision=i),Kr(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ml(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=pl(a))&&(r.precision=i-(r.type==="%")*2);break}}return yt(r)}function Ml(t){var e=t.domain;return t.ticks=function(n){var r=e();return Da(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return bl(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],l=r[i],f,s,u=10;for(l<o&&(s=o,o=l,l=s,s=a,a=i,i=s);u-- >0;){if(s=cn(o,l,n),s===f)return r[a]=o,r[i]=l,e(r);if(s>0)o=Math.floor(o/s)*s,l=Math.ceil(l/s)*s;else if(s<0)o=Math.ceil(o*s)/s,l=Math.floor(l*s)/s;else break;f=s}return t},t}function Wt(){var t=ea();return t.copy=function(){return ta(t,Wt())},jr.apply(t,arguments),Ml(t)}function Dl(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}const nn=new Date,rn=new Date;function J(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const f=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return f;let s;do f.push(s=new Date(+i)),e(i,l),t(i);while(s<i&&i<o);return f},a.filter=i=>J(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(nn.setTime(+i),rn.setTime(+o),t(nn),t(rn),Math.floor(n(nn,rn))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ze=J(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ze.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?J(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ze);ze.range;const kt=1e3,pt=kt*60,bt=pt*60,St=bt*24,Un=St*7,lr=St*30,an=St*365,Ot=J(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*kt)},(t,e)=>(e-t)/kt,t=>t.getUTCSeconds());Ot.range;const Pn=J(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kt)},(t,e)=>{t.setTime(+t+e*pt)},(t,e)=>(e-t)/pt,t=>t.getMinutes());Pn.range;const Sl=J(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pt)},(t,e)=>(e-t)/pt,t=>t.getUTCMinutes());Sl.range;const En=J(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kt-t.getMinutes()*pt)},(t,e)=>{t.setTime(+t+e*bt)},(t,e)=>(e-t)/bt,t=>t.getHours());En.range;const Tl=J(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bt)},(t,e)=>(e-t)/bt,t=>t.getUTCHours());Tl.range;const ge=J(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pt)/St,t=>t.getDate()-1);ge.range;const Ln=J(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/St,t=>t.getUTCDate()-1);Ln.range;const Cl=J(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/St,t=>Math.floor(t/St));Cl.range;function Lt(t){return J(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*pt)/Un)}const Qe=Lt(0),He=Lt(1),$l=Lt(2),Al=Lt(3),Xt=Lt(4),Fl=Lt(5),Nl=Lt(6);Qe.range;He.range;$l.range;Al.range;Xt.range;Fl.range;Nl.range;function Rt(t){return J(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Un)}const na=Rt(0),Oe=Rt(1),Ul=Rt(2),Pl=Rt(3),Zt=Rt(4),El=Rt(5),Ll=Rt(6);na.range;Oe.range;Ul.range;Pl.range;Zt.range;El.range;Ll.range;const Rn=J(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rn.range;const Rl=J(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Rl.range;const Tt=J(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:J(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Tt.range;const Et=J(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Et.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:J(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Et.range;function Yl(t,e,n,r,a,i){const o=[[Ot,1,kt],[Ot,5,5*kt],[Ot,15,15*kt],[Ot,30,30*kt],[i,1,pt],[i,5,5*pt],[i,15,15*pt],[i,30,30*pt],[a,1,bt],[a,3,3*bt],[a,6,6*bt],[a,12,12*bt],[r,1,St],[r,2,2*St],[n,1,Un],[e,1,lr],[e,3,3*lr],[t,1,an]];function l(s,u,c){const h=u<s;h&&([s,u]=[u,s]);const d=c&&typeof c.range=="function"?c:f(s,u,c),y=d?d.range(s,+u+1):[];return h?y.reverse():y}function f(s,u,c){const h=Math.abs(u-s)/c,d=he(([,,w])=>w).right(o,h);if(d===o.length)return t.every(fn(s/an,u/an,c));if(d===0)return ze.every(Math.max(fn(s,u,c),1));const[y,M]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return y.every(M)}return[l,f]}const[zl,Hl]=Yl(Tt,Rn,Qe,ge,En,Pn);function on(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function te(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ol(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,f=t.shortMonths,s=ee(a),u=ne(a),c=ee(i),h=ne(i),d=ee(o),y=ne(o),M=ee(l),w=ne(l),$=ee(f),F=ne(f),S={a:ct,A:it,b:Q,B:H,c:null,d:pr,e:pr,f:cu,g:xu,G:ku,H:su,I:lu,j:uu,L:ra,m:fu,M:hu,p:P,q:D,Q:vr,s:yr,S:du,u:pu,U:gu,V:mu,w:vu,W:yu,x:null,X:null,y:wu,Y:_u,Z:bu,"%":mr},U={a:g,A:k,b:A,B:L,c:null,d:gr,e:gr,f:Tu,g:Ru,G:zu,H:Mu,I:Du,j:Su,L:ia,m:Cu,M:$u,p:O,q:I,Q:vr,s:yr,S:Au,u:Fu,U:Nu,V:Uu,w:Pu,W:Eu,x:null,X:null,y:Lu,Y:Yu,Z:Hu,"%":mr},_={a:G,A:C,b:N,B:z,c:et,d:hr,e:hr,f:ru,g:fr,G:cr,H:dr,I:dr,j:jl,L:nu,m:Kl,M:tu,p:V,q:Jl,Q:iu,s:ou,S:eu,u:Wl,U:Xl,V:Zl,w:Vl,W:Ql,x:nt,X:at,y:fr,Y:cr,Z:Gl,"%":au};S.x=b(n,S),S.X=b(r,S),S.c=b(e,S),U.x=b(n,U),U.X=b(r,U),U.c=b(e,U);function b(v,T){return function(E){var m=[],ot=-1,W=0,ft=v.length,ht,$t,Yn;for(E instanceof Date||(E=new Date(+E));++ot<ft;)v.charCodeAt(ot)===37&&(m.push(v.slice(W,ot)),($t=ur[ht=v.charAt(++ot)])!=null?ht=v.charAt(++ot):$t=ht==="e"?" ":"0",(Yn=T[ht])&&(ht=Yn(E,$t)),m.push(ht),W=ot+1);return m.push(v.slice(W,ot)),m.join("")}}function x(v,T){return function(E){var m=te(1900,void 0,1),ot=B(m,v,E+="",0),W,ft;if(ot!=E.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(T&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(W=sn(te(m.y,0,1)),ft=W.getUTCDay(),W=ft>4||ft===0?Oe.ceil(W):Oe(W),W=Ln.offset(W,(m.V-1)*7),m.y=W.getUTCFullYear(),m.m=W.getUTCMonth(),m.d=W.getUTCDate()+(m.w+6)%7):(W=on(te(m.y,0,1)),ft=W.getDay(),W=ft>4||ft===0?He.ceil(W):He(W),W=ge.offset(W,(m.V-1)*7),m.y=W.getFullYear(),m.m=W.getMonth(),m.d=W.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),ft="Z"in m?sn(te(m.y,0,1)).getUTCDay():on(te(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(ft+5)%7:m.w+m.U*7-(ft+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,sn(m)):on(m)}}function B(v,T,E,m){for(var ot=0,W=T.length,ft=E.length,ht,$t;ot<W;){if(m>=ft)return-1;if(ht=T.charCodeAt(ot++),ht===37){if(ht=T.charAt(ot++),$t=_[ht in ur?T.charAt(ot++):ht],!$t||(m=$t(v,E,m))<0)return-1}else if(ht!=E.charCodeAt(m++))return-1}return m}function V(v,T,E){var m=s.exec(T.slice(E));return m?(v.p=u.get(m[0].toLowerCase()),E+m[0].length):-1}function G(v,T,E){var m=d.exec(T.slice(E));return m?(v.w=y.get(m[0].toLowerCase()),E+m[0].length):-1}function C(v,T,E){var m=c.exec(T.slice(E));return m?(v.w=h.get(m[0].toLowerCase()),E+m[0].length):-1}function N(v,T,E){var m=$.exec(T.slice(E));return m?(v.m=F.get(m[0].toLowerCase()),E+m[0].length):-1}function z(v,T,E){var m=M.exec(T.slice(E));return m?(v.m=w.get(m[0].toLowerCase()),E+m[0].length):-1}function et(v,T,E){return B(v,e,T,E)}function nt(v,T,E){return B(v,n,T,E)}function at(v,T,E){return B(v,r,T,E)}function ct(v){return o[v.getDay()]}function it(v){return i[v.getDay()]}function Q(v){return f[v.getMonth()]}function H(v){return l[v.getMonth()]}function P(v){return a[+(v.getHours()>=12)]}function D(v){return 1+~~(v.getMonth()/3)}function g(v){return o[v.getUTCDay()]}function k(v){return i[v.getUTCDay()]}function A(v){return f[v.getUTCMonth()]}function L(v){return l[v.getUTCMonth()]}function O(v){return a[+(v.getUTCHours()>=12)]}function I(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var T=b(v+="",S);return T.toString=function(){return v},T},parse:function(v){var T=x(v+="",!1);return T.toString=function(){return v},T},utcFormat:function(v){var T=b(v+="",U);return T.toString=function(){return v},T},utcParse:function(v){var T=x(v+="",!0);return T.toString=function(){return v},T}}}var ur={"-":"",_:" ",0:"0"},tt=/^\s*\d+/,Il=/^%/,ql=/[\\^$*+?|[\]().{}]/g;function q(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Bl(t){return t.replace(ql,"\\$&")}function ee(t){return new RegExp("^(?:"+t.map(Bl).join("|")+")","i")}function ne(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Vl(t,e,n){var r=tt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wl(t,e,n){var r=tt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xl(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Zl(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ql(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cr(t,e,n){var r=tt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fr(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gl(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jl(t,e,n){var r=tt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Kl(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hr(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jl(t,e,n){var r=tt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dr(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tu(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function eu(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nu(t,e,n){var r=tt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ru(t,e,n){var r=tt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function au(t,e,n){var r=Il.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function iu(t,e,n){var r=tt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ou(t,e,n){var r=tt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function pr(t,e){return q(t.getDate(),e,2)}function su(t,e){return q(t.getHours(),e,2)}function lu(t,e){return q(t.getHours()%12||12,e,2)}function uu(t,e){return q(1+ge.count(Tt(t),t),e,3)}function ra(t,e){return q(t.getMilliseconds(),e,3)}function cu(t,e){return ra(t,e)+"000"}function fu(t,e){return q(t.getMonth()+1,e,2)}function hu(t,e){return q(t.getMinutes(),e,2)}function du(t,e){return q(t.getSeconds(),e,2)}function pu(t){var e=t.getDay();return e===0?7:e}function gu(t,e){return q(Qe.count(Tt(t)-1,t),e,2)}function aa(t){var e=t.getDay();return e>=4||e===0?Xt(t):Xt.ceil(t)}function mu(t,e){return t=aa(t),q(Xt.count(Tt(t),t)+(Tt(t).getDay()===4),e,2)}function vu(t){return t.getDay()}function yu(t,e){return q(He.count(Tt(t)-1,t),e,2)}function wu(t,e){return q(t.getFullYear()%100,e,2)}function xu(t,e){return t=aa(t),q(t.getFullYear()%100,e,2)}function _u(t,e){return q(t.getFullYear()%1e4,e,4)}function ku(t,e){var n=t.getDay();return t=n>=4||n===0?Xt(t):Xt.ceil(t),q(t.getFullYear()%1e4,e,4)}function bu(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+q(e/60|0,"0",2)+q(e%60,"0",2)}function gr(t,e){return q(t.getUTCDate(),e,2)}function Mu(t,e){return q(t.getUTCHours(),e,2)}function Du(t,e){return q(t.getUTCHours()%12||12,e,2)}function Su(t,e){return q(1+Ln.count(Et(t),t),e,3)}function ia(t,e){return q(t.getUTCMilliseconds(),e,3)}function Tu(t,e){return ia(t,e)+"000"}function Cu(t,e){return q(t.getUTCMonth()+1,e,2)}function $u(t,e){return q(t.getUTCMinutes(),e,2)}function Au(t,e){return q(t.getUTCSeconds(),e,2)}function Fu(t){var e=t.getUTCDay();return e===0?7:e}function Nu(t,e){return q(na.count(Et(t)-1,t),e,2)}function oa(t){var e=t.getUTCDay();return e>=4||e===0?Zt(t):Zt.ceil(t)}function Uu(t,e){return t=oa(t),q(Zt.count(Et(t),t)+(Et(t).getUTCDay()===4),e,2)}function Pu(t){return t.getUTCDay()}function Eu(t,e){return q(Oe.count(Et(t)-1,t),e,2)}function Lu(t,e){return q(t.getUTCFullYear()%100,e,2)}function Ru(t,e){return t=oa(t),q(t.getUTCFullYear()%100,e,2)}function Yu(t,e){return q(t.getUTCFullYear()%1e4,e,4)}function zu(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zt(t):Zt.ceil(t),q(t.getUTCFullYear()%1e4,e,4)}function Hu(){return"+0000"}function mr(){return"%"}function vr(t){return+t}function yr(t){return Math.floor(+t/1e3)}var zt,lt;Ou({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ou(t){return zt=Ol(t),lt=zt.format,zt.parse,zt.utcFormat,zt.utcParse,zt}function Iu(t){return new Date(t)}function qu(t){return t instanceof Date?+t:+new Date(+t)}function sa(t,e,n,r,a,i,o,l,f,s){var u=ea(),c=u.invert,h=u.domain,d=s(".%L"),y=s(":%S"),M=s("%I:%M"),w=s("%I %p"),$=s("%a %d"),F=s("%b %d"),S=s("%B"),U=s("%Y");function _(b){return(f(b)<b?d:l(b)<b?y:o(b)<b?M:i(b)<b?w:r(b)<b?a(b)<b?$:F:n(b)<b?S:U)(b)}return u.invert=function(b){return new Date(c(b))},u.domain=function(b){return arguments.length?h(Array.from(b,qu)):h().map(Iu)},u.ticks=function(b){var x=h();return t(x[0],x[x.length-1],b??10)},u.tickFormat=function(b,x){return x==null?_:s(x)},u.nice=function(b){var x=h();return(!b||typeof b.range!="function")&&(b=e(x[0],x[x.length-1],b??10)),b?h(Dl(x,b)):u},u.copy=function(){return ta(u,sa(t,e,n,r,a,i,o,l,f,s))},u}function Ge(){return jr.apply(sa(zl,Hl,Tt,Rn,Qe,ge,En,Pn,Ot,lt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K(t){return function(){return t}}function la(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new il(e)}function ua(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ca(t){this._context=t}ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fa(t){return new ca(t)}function ha(t){return t[0]}function da(t){return t[1]}function Qt(t,e){var n=K(!0),r=null,a=fa,i=null,o=la(l);t=typeof t=="function"?t:t===void 0?ha:K(t),e=typeof e=="function"?e:e===void 0?da:K(e);function l(f){var s,u=(f=ua(f)).length,c,h=!1,d;for(r==null&&(i=a(d=o())),s=0;s<=u;++s)!(s<u&&n(c=f[s],s,f))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(c,s,f),+e(c,s,f));if(d)return i=null,d+""||null}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:K(+f),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:K(+f),l):e},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:K(!!f),l):n},l.curve=function(f){return arguments.length?(a=f,r!=null&&(i=a(r)),l):a},l.context=function(f){return arguments.length?(f==null?r=i=null:i=a(r=f),l):r},l}function Je(t,e,n){var r=null,a=K(!0),i=null,o=fa,l=null,f=la(s);t=typeof t=="function"?t:t===void 0?ha:K(+t),e=typeof e=="function"?e:K(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?da:K(+n);function s(c){var h,d,y,M=(c=ua(c)).length,w,$=!1,F,S=new Array(M),U=new Array(M);for(i==null&&(l=o(F=f())),h=0;h<=M;++h){if(!(h<M&&a(w=c[h],h,c))===$)if($=!$)d=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=d;--y)l.point(S[y],U[y]);l.lineEnd(),l.areaEnd()}$&&(S[h]=+t(w,h,c),U[h]=+e(w,h,c),l.point(r?+r(w,h,c):S[h],n?+n(w,h,c):U[h]))}if(F)return l=null,F+""||null}function u(){return Qt().defined(a).curve(o).context(i)}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:K(+c),r=null,s):t},s.x0=function(c){return arguments.length?(t=typeof c=="function"?c:K(+c),s):t},s.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:K(+c),s):r},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:K(+c),n=null,s):e},s.y0=function(c){return arguments.length?(e=typeof c=="function"?c:K(+c),s):e},s.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:K(+c),s):n},s.lineX0=s.lineY0=function(){return u().x(t).y(e)},s.lineY1=function(){return u().x(t).y(n)},s.lineX1=function(){return u().x(r).y(e)},s.defined=function(c){return arguments.length?(a=typeof c=="function"?c:K(!!c),s):a},s.curve=function(c){return arguments.length?(o=c,i!=null&&(l=o(i)),s):o},s.context=function(c){return arguments.length?(c==null?i=l=null:l=o(i=c),s):i},s}function wr(t){return t<0?-1:1}function xr(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(wr(i)+wr(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function _r(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ln(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,a+l*e,i-l,o-l*n,i,o)}function Ie(t){this._context=t}Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ln(this,this._t0,_r(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ln(this,_r(this,n=xr(this,t,e)),n);break;default:ln(this,this._t0,n=xr(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(Ie.prototype).point=function(t,e){Ie.prototype.point.call(this,e,t)};function Mt(t){return new Ie(t)}function se(t,e,n){this.k=t,this.x=e,this.y=n}se.prototype={constructor:se,scale:function(t){return t===1?this:new se(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new se(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};se.prototype;const Bu={class:"chart-wrapper"},Vu={key:0,class:"loading-overlay"},Wu={key:1,class:"empty-state"},Xu={__name:"SalesChart",props:{chartData:{type:Array,required:!0},view:{type:String,default:"daily"},timeFrame:{type:String,default:"today"},startDate:{type:String,required:!0},endDate:{type:String,required:!0},loading:{type:Boolean,default:!1}},setup(t){const e=t,n=Z(null);let r=null;const a=(s,u)=>{const c=[];let h=new Date(s);for(;h<=u;)c.push(new Date(h)),h.setDate(h.getDate()+1);return c},i=()=>{var Q;if(!n.value||(j(n.value).selectAll("*").remove(),!((Q=e.chartData)!=null&&Q.length)))return;j(n.value).selectAll("*").remove();const s={top:20,right:50,bottom:50,left:70},u=n.value.clientWidth-s.left-s.right,c=n.value.clientHeight-s.top-s.bottom;console.log("chart container height:",n.value.clientHeight);const h=j(n.value).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${u+s.left+s.right} ${c+s.top+s.bottom}`).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform",`translate(${s.left},${s.top})`),d=new Date(e.startDate),y=new Date(e.endDate),w=a(d,y).map(H=>{const P=H.toISOString().split("T")[0],D=e.chartData.filter(k=>new Date(k.date).toISOString().split("T")[0]===P),g=D.reduce((k,A)=>k+parseFloat(A.amount),0);return{date:H,amount:g,orderCount:D.length}});console.log("Formatted Data:",w),w.sort((H,P)=>H.date-P.date);const $=Be(w,H=>H.date),F=($[1]-$[0])*.05,S=Ge().domain([new Date($[0]-F),new Date($[1].getTime()+F)]).range([0,u]),U=le(w,H=>H.amount);console.log("Y Max:",U);const _=Wt().domain([0,U*1.15]).range([c,0]),b=Math.max(2,Math.floor(u/100)),x=Math.max(3,Math.floor(c/50)),B=h.append("g").attr("transform",`translate(0,${c})`).attr("class","x-axis");let V;e.view==="daily"||e.view==="weekly"?V=lt("%b %d"):e.view==="monthly"?V=lt("%b %Y"):V=lt("%b %d"),B.call(Ve(S).ticks(b).tickFormat(V)),w.length>10&&B.selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),h.append("g").attr("class","y-axis").call(Ct(_).ticks(x).tickFormat(H=>`$${yt(",.0f")(H)}`)),h.append("g").attr("class","grid").call(Ct(_).ticks(x).tickSize(-u).tickFormat("")).attr("stroke-opacity",.1);const G=Je().x(H=>S(H.date)).y0(c).y1(H=>_(H.amount)).curve(Mt),C=Qt().x(H=>S(H.date)).y(H=>_(H.amount)).curve(Mt);h.append("clipPath").attr("id","clip-path").append("rect").attr("width",u).attr("height",c);const N=h.append("path").datum(w).attr("clip-path","url(#clip-path)").attr("fill","rgba(59, 130, 246, 0.2)").attr("d",G),z=h.append("path").datum(w).attr("clip-path","url(#clip-path)").attr("fill","none").attr("stroke","#3B82F6").attr("stroke-width",2).attr("d",C),et=h.select("#clip-path rect").attr("height",0).attr("width",u).attr("y",c);let nt;w.length<=60&&(nt=h.selectAll(".dot").data(w).enter().append("circle").attr("class","dot").attr("cx",H=>S(H.date)).attr("cy",H=>_(H.amount)).attr("r",0).attr("fill","#3B82F6").attr("stroke","#fff").attr("stroke-width",2)),et.transition().duration(1500).ease(Qr).attr("height",c).attr("y",0),nt&&nt.transition().delay(300).duration(500).delay((H,P)=>300+P*30).attr("r",4),setTimeout(()=>{N.attr("clip-path",null),z.attr("clip-path",null)},1500);const at=j(n.value).append("div").attr("class","chart-tooltip").style("position","absolute").style("visibility","hidden").style("background","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("box-shadow","0 2px 5px rgba(0,0,0,0.1)").style("pointer-events","none").style("z-index","10").style("transition","opacity 0.2s"),ct=h.append("rect").attr("width",u).attr("height",c).attr("fill","none").attr("pointer-events","all"),it=h.append("line").attr("class","vertical-line").attr("y1",0).attr("y2",c).attr("stroke","#ccc").attr("stroke-width",1).attr("stroke-dasharray","5,5").style("opacity",0);return w.length>0&&ct.on("mousemove",function(H){const P=he(T=>T.date).left,D=Ae(H)[0],g=S.invert(D),k=P(w,g,1),A=w[k-1],L=w[k]||A,O=g-A.date>L.date-g?L:A;it.attr("x1",S(O.date)).attr("x2",S(O.date)).style("opacity",1),h.selectAll(".dot").attr("r",4).attr("stroke-width",2);const I=h.selectAll(".dot").filter(T=>T.date.getTime()===O.date.getTime());I.empty()||I.attr("r",6).attr("stroke-width",3),n.value.getBoundingClientRect();const v=Ae(H,n.value);at.style("visibility","visible").style("opacity",1).html(`
            <div>
              <strong>${O.date.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}</strong><br>
              Sales: $${O.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}<br>
              Orders: ${O.orderCount}
            </div>
          `).style("left",`${v[0]+15}px`).style("top",`${v[1]-15}px`)}).on("mouseleave",function(){at.style("visibility","hidden").style("opacity",0),it.style("opacity",0),h.selectAll(".dot").attr("r",4).attr("stroke-width",2)}),h},o=()=>{var s;(s=e.chartData)!=null&&s.length&&i()},l=()=>{r&&r.disconnect(),r=new ResizeObserver(f(()=>{o()},100)),n.value&&r.observe(n.value)};function f(s,u){let c;return function(){const h=this,d=arguments;clearTimeout(c),c=setTimeout(()=>{s.apply(h,d)},u)}}return dt(()=>e.chartData,s=>{var u;s!=null&&s.length?i():(u=j(n.value))==null||u.selectAll("*").remove()},{deep:!0}),dt(()=>e.view,()=>{i()}),Jt(()=>{i(),l(),window.ResizeObserver||window.addEventListener("resize",f(o,100))}),qe(()=>{r&&r.disconnect(),window.ResizeObserver||window.removeEventListener("resize",o)}),(s,u)=>(Y(),R("div",Bu,[t.loading?(Y(),R("div",Vu,u[0]||(u[0]=[p("div",{class:"loading-spinner"},null,-1)]))):!t.chartData||t.chartData.length===0?(Y(),R("div",Wu,u[1]||(u[1]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),p("p",{class:"text-gray-500 mt-2"},"No data available for selected period",-1)]))):(Y(),R("div",{key:2,class:"chart-container",ref_key:"chartContainer",ref:n},null,512))]))}},Zu=Gt(Xu,[["__scopeId","data-v-940c23ef"]]),Qu={class:"chart-wrapper"},Gu={key:0,class:"loading-overlay"},Ju={key:1,class:"empty-state"},Ku={__name:"ProfitChart",props:{chartData:{type:Array,required:!0},view:{type:String,default:"daily"},timeFrame:{type:String,default:"today"},startDate:{type:String,required:!0},endDate:{type:String,required:!0},loading:{type:Boolean,default:!1}},setup(t){const e=t,n=Z(null);let r=null;const a=(s,u)=>{const c=[];let h=new Date(s);for(;h<=u;)c.push(new Date(h)),h.setDate(h.getDate()+1);return c},i=()=>{var Q,H;if((!n.value||!((Q=e.chartData)!=null&&Q.length))&&((H=j(n.value))==null||H.selectAll("*").remove()),!n.value||e.chartData.length===0)return;j(n.value).selectAll("*").remove();const s={top:20,right:50,bottom:50,left:70},u=n.value.clientWidth-s.left-s.right,c=n.value.clientHeight-s.top-s.bottom;console.log("chart container height:",n.value.clientHeight);const h=j(n.value).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${u+s.left+s.right} ${c+s.top+s.bottom}`).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform",`translate(${s.left},${s.top})`),d=new Date(e.startDate),y=new Date(e.endDate),w=a(d,y).map(P=>{const D=P.toISOString().split("T")[0],g=e.chartData.filter(A=>new Date(A.date).toISOString().split("T")[0]===D),k=g.reduce((A,L)=>A+parseFloat(L.amount),0);return{date:P,amount:k,orderCount:g.length}});console.log("Formatted Data:",w),w.sort((P,D)=>P.date-D.date);const $=Be(w,P=>P.date),F=($[1]-$[0])*.05,S=Ge().domain([new Date($[0]-F),new Date($[1].getTime()+F)]).range([0,u]),U=le(w,P=>P.amount);console.log("Y Max:",U);const _=Wt().domain([0,U*1.15]).range([c,0]),b=Math.max(2,Math.floor(u/100)),x=Math.max(3,Math.floor(c/50)),B=h.append("g").attr("transform",`translate(0,${c})`).attr("class","x-axis");let V;e.view==="daily"||e.view==="weekly"?V=lt("%b %d"):e.view==="monthly"?V=lt("%b %Y"):V=lt("%b %d"),B.call(Ve(S).ticks(b).tickFormat(V)),w.length>10&&B.selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),h.append("g").attr("class","y-axis").call(Ct(_).ticks(x).tickFormat(P=>`$${yt(",.0f")(P)}`)),h.append("g").attr("class","grid").call(Ct(_).ticks(x).tickSize(-u).tickFormat("")).attr("stroke-opacity",.1);const G=Je().x(P=>S(P.date)).y0(c).y1(P=>_(P.amount)).curve(Mt),C=Qt().x(P=>S(P.date)).y(P=>_(P.amount)).curve(Mt);h.append("clipPath").attr("id","clip-path").append("rect").attr("width",u).attr("height",c);const N=h.append("path").datum(w).attr("clip-path","url(#clip-path)").attr("fill","rgba(16, 185, 129, 0.2)").attr("d",G),z=h.append("path").datum(w).attr("clip-path","url(#clip-path)").attr("fill","none").attr("stroke","#10B981").attr("stroke-width",2).attr("d",C),et=h.select("#clip-path rect").attr("height",0).attr("width",u).attr("y",c);let nt;w.length<=60&&(nt=h.selectAll(".dot").data(w).enter().append("circle").attr("class","dot").attr("cx",P=>S(P.date)).attr("cy",P=>_(P.amount)).attr("r",0).attr("fill","#10B981").attr("stroke","#fff").attr("stroke-width",2)),et.transition().duration(1500).ease(Qr).attr("height",c).attr("y",0),nt&&nt.transition().delay(300).duration(500).delay((P,D)=>300+D*30).attr("r",4),setTimeout(()=>{N.attr("clip-path",null),z.attr("clip-path",null)},1500);const at=j(n.value).append("div").attr("class","chart-tooltip").style("position","absolute").style("visibility","hidden").style("background","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("box-shadow","0 2px 5px rgba(0,0,0,0.1)").style("pointer-events","none").style("z-index","10").style("transition","opacity 0.2s"),ct=h.append("rect").attr("width",u).attr("height",c).attr("fill","none").attr("pointer-events","all"),it=h.append("line").attr("class","vertical-line").attr("y1",0).attr("y2",c).attr("stroke","#ccc").attr("stroke-width",1).attr("stroke-dasharray","5,5").style("opacity",0);return w.length>0&&ct.on("mousemove",function(P){const D=he(E=>E.date).left,g=Ae(P)[0],k=S.invert(g),A=D(w,k,1),L=w[A-1],O=w[A]||L,I=k-L.date>O.date-k?O:L;it.attr("x1",S(I.date)).attr("x2",S(I.date)).style("opacity",1),h.selectAll(".dot").attr("r",4).attr("stroke-width",2);const v=h.selectAll(".dot").filter(E=>E.date.getTime()===I.date.getTime());v.empty()||v.attr("r",6).attr("stroke-width",3),n.value.getBoundingClientRect();const T=Ae(P,n.value);at.style("visibility","visible").style("opacity",1).html(`
            <div>
              <strong>${I.date.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}</strong><br>
              Sales: $${I.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}<br>
              Orders: ${I.orderCount}
            </div>
          `).style("left",`${T[0]+15}px`).style("top",`${T[1]-15}px`)}).on("mouseleave",function(){at.style("visibility","hidden").style("opacity",0),it.style("opacity",0),h.selectAll(".dot").attr("r",4).attr("stroke-width",2)}),h},o=()=>{var s;(s=e.chartData)!=null&&s.length&&i()},l=()=>{r&&r.disconnect(),r=new ResizeObserver(f(()=>{o()},100)),n.value&&r.observe(n.value)};function f(s,u){let c;return function(){const h=this,d=arguments;clearTimeout(c),c=setTimeout(()=>{s.apply(h,d)},u)}}return dt(()=>e.chartData,s=>{var u;s!=null&&s.length?i():(u=j(n.value))==null||u.selectAll("*").remove()},{deep:!0}),dt(()=>e.view,()=>{i()}),Jt(()=>{i(),l(),window.ResizeObserver||window.addEventListener("resize",f(o,100))}),qe(()=>{r&&r.disconnect(),window.ResizeObserver||window.removeEventListener("resize",o)}),(s,u)=>{var c;return Y(),R("div",Qu,[t.loading?(Y(),R("div",Gu,u[0]||(u[0]=[p("div",{class:"loading-spinner"},null,-1)]))):(c=t.chartData)!=null&&c.length?(Y(),R("div",{key:2,class:"chart-container",ref_key:"chartContainer",ref:n},null,512)):(Y(),R("div",Ju,u[1]||(u[1]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),p("p",{class:"text-gray-500 mt-2"},"No sales data available",-1)])))])}}},ju=Gt(Ku,[["__scopeId","data-v-d7007546"]]),tc={class:"chart-wrapper"},ec={key:0,class:"loading-state"},nc={key:1,class:"empty-state"},rc={__name:"ProductSalesChart",props:{chartData:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},startDate:{type:String,default:null},endDate:{type:String,default:null}},setup(t){const e=t,n=Z(null);let r=null,a=null;const i=(c,h,d)=>{j(d).transition().duration(200).attr("r",6),r.transition().duration(200).style("opacity",.9),r.html(`
    <div class="tooltip-date">${lt("%B %d, %Y")(h.date)}</div>
    <div class="tooltip-value">Sales: $${yt(",.2f")(h.amount)}</div>
    <div class="tooltip-value">Units: ${h.quantity}</div>
    <div class="tooltip-value">Profit: $${yt(",.2f")(h.profit||0)}</div>
  `).style("left",`${c.offsetX+10}px`).style("top",`${c.offsetY-28}px`)},o=()=>{mo(".dot-sales, .dot-quantity").transition().duration(200).attr("r",4),r.transition().duration(500).style("opacity",0)},l=c=>{const h=new Map;return c.forEach(d=>{const y=d.date.toISOString().split("T")[0];if(h.has(y)){const M=h.get(y);M.amount+=d.amount,M.quantity+=d.quantity}else h.set(y,{date:new Date(y),amount:d.amount,quantity:d.quantity})}),Array.from(h.values()).sort((d,y)=>d.date-y.date)},f=c=>{if(!c||c.length===0)return[];const h=new Date(e.startDate),d=new Date(e.endDate),y=[],M=new Date(h);for(;M<=d;){const w=M.toISOString().split("T")[0],$=c.find(F=>F.date.toISOString().split("T")[0]===w);y.push($||{date:new Date(M),amount:0,quantity:0}),M.setDate(M.getDate()+1)}return y},s=()=>{if(!n.value||!e.chartData||e.chartData.length===0)return;j(n.value).selectAll("*").remove();const c=l(e.chartData),h=f(c),d={top:20,right:60,bottom:40,left:70},y=n.value.clientWidth-d.left-d.right,M=300-d.top-d.bottom,w=j(n.value).append("svg").attr("width",y+d.left+d.right).attr("height",M+d.top+d.bottom).append("g").attr("transform",`translate(${d.left},${d.top})`);r=j(n.value).append("div").attr("class","chart-tooltip").style("opacity",0);const $=Ge().domain(Be(h,x=>x.date)).range([0,y]),F=Wt().domain([0,le(h,x=>x.amount)*1.1||1e3]).range([M,0]),S=Wt().domain([0,le(h,x=>x.quantity)*1.1||10]).range([M,0]);w.append("g").attr("transform",`translate(0,${M})`).attr("class","axis x-axis").call(Ve($).ticks(Math.min(y>600?10:5,h.length)).tickFormat(lt("%b %d"))),w.append("g").attr("class","axis y-axis").call(Ct(F).ticks(5).tickFormat(x=>`$${yt(",.0f")(x)}`)),w.append("text").attr("transform","rotate(-90)").attr("y",-55).attr("x",-240/2).attr("dy","1em").attr("class","axis-label").style("text-anchor","middle").text("Sales Amount ($)"),w.append("g").attr("class","axis y2-axis").attr("transform",`translate(${y}, 0)`).call(Na(S).ticks(5).tickFormat(x=>yt(",.0f")(x))),w.append("text").attr("transform","rotate(90)").attr("y",-y-d.right+15).attr("x",M/2).attr("dy","1em").attr("class","axis-label").style("text-anchor","middle").text("Units Sold"),w.append("g").attr("class","grid").call(Ct(F).ticks(5).tickSize(-y).tickFormat("")).attr("stroke-dasharray","3,3").attr("stroke-opacity",.2).select("path").attr("stroke-width",0),w.append("path").datum(h).attr("fill","rgba(59, 130, 246, 0.2)").attr("stroke","none").attr("d",Je().x(x=>$(x.date)).y0(M).y1(x=>F(x.amount)).curve(Mt));const U=w.append("path").datum(h).attr("fill","none").attr("stroke","rgba(59, 130, 246, 0.8)").attr("stroke-width",2).attr("d",Qt().x(x=>$(x.date)).y(x=>F(x.amount)).curve(Mt)),_=w.append("path").datum(h).attr("fill","none").attr("stroke","rgba(16, 185, 129, 0.8)").attr("stroke-width",2).attr("stroke-dasharray","4,4").attr("d",Qt().x(x=>$(x.date)).y(x=>S(x.quantity)).curve(Mt)),b=x=>{const B=x.node().getTotalLength();x.attr("stroke-dasharray",B).attr("stroke-dashoffset",B).transition().duration(1e3).attr("stroke-dashoffset",0)};b(U),b(_),w.selectAll(".dot-sales").data(h.filter(x=>x.amount>0)).enter().append("circle").attr("class","dot-sales").attr("cx",x=>$(x.date)).attr("cy",x=>F(x.amount)).attr("r",4).attr("fill","#3B82F6").attr("stroke","white").attr("stroke-width",2).on("mouseover",function(x,B){i(x,B,this)}).on("mouseout",o),w.selectAll(".dot-quantity").data(h.filter(x=>x.quantity>0)).enter().append("circle").attr("class","dot-quantity").attr("cx",x=>$(x.date)).attr("cy",x=>S(x.quantity)).attr("r",4).attr("fill","#10B981").attr("stroke","white").attr("stroke-width",2).on("mouseover",function(x,B){i(x,B,this)}).on("mouseout",o)},u=()=>{clearTimeout(a),a=setTimeout(()=>{s()},300)};return dt(()=>e.chartData,()=>{s()},{deep:!0}),dt(()=>[e.startDate,e.endDate],()=>{s()},{deep:!0}),dt(()=>e.loading,c=>{c||setTimeout(()=>{s()},100)}),Jt(()=>{window.addEventListener("resize",u),setTimeout(()=>{e.loading||s()},200)}),qe(()=>{window.removeEventListener("resize",u),clearTimeout(a)}),(c,h)=>(Y(),R("div",tc,[t.loading?(Y(),R("div",ec,h[0]||(h[0]=[p("div",{class:"spinner"},null,-1),p("p",null,"Loading chart data...",-1)]))):!t.chartData||t.chartData.length===0?(Y(),R("div",nc,h[1]||(h[1]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),p("p",null,"No sales data available for this period",-1)]))):(Y(),R("div",{key:2,ref_key:"chartContainer",ref:n,class:"chart-container"},null,512)),h[2]||(h[2]=kr('<div class="chart-legend" data-v-6517330b><div class="legend-item" data-v-6517330b><div class="legend-color" style="background-color:rgba(59, 130, 246, 0.8);" data-v-6517330b></div><span data-v-6517330b>Sales Amount</span></div><div class="legend-item" data-v-6517330b><div class="legend-color" style="background-color:rgba(16, 185, 129, 0.8);" data-v-6517330b></div><span data-v-6517330b>Units Sold</span></div></div>',1))]))}},ac=Gt(rc,[["__scopeId","data-v-6517330b"]]),ic={class:"chart-wrapper"},oc={key:0,class:"loading-state"},sc={key:1,class:"empty-state"},lc={__name:"ProductProfitChart",props:{chartData:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},startDate:{type:String,default:null},endDate:{type:String,default:null}},setup(t){const e=t,n=Z(null);let r=null,a=null;const i=s=>{const u=new Map;return s.forEach(c=>{const h=c.date.toISOString().split("T")[0];if(u.has(h)){const d=u.get(h);d.amount+=c.amount}else u.set(h,{date:new Date(h),amount:c.amount})}),Array.from(u.values()).sort((c,h)=>c.date-h.date)},o=s=>{if(!s||s.length===0)return[];const u=new Date(e.startDate),c=new Date(e.endDate),h=[],d=new Date(u);for(;d<=c;){const y=d.toISOString().split("T")[0],M=s.find(w=>w.date.toISOString().split("T")[0]===y);h.push(M||{date:new Date(d),amount:0}),d.setDate(d.getDate()+1)}return h},l=()=>{if(!n.value||!e.chartData||e.chartData.length===0)return;j(n.value).selectAll("*").remove();const s=i(e.chartData),u=o(s),c={top:20,right:20,bottom:30,left:60},h=n.value.clientWidth-c.left-c.right,d=300-c.top-c.bottom,y=j(n.value).append("svg").attr("width",h+c.left+c.right).attr("height",d+c.top+c.bottom).append("g").attr("transform",`translate(${c.left},${c.top})`),M=Ge().domain(Be(u,_=>_.date)).range([0,h]),w=Wt().domain([0,le(u,_=>_.amount)*1.1]).range([d,0]);y.append("g").attr("transform",`translate(0,${d})`).attr("class","axis x-axis").call(Ve(M).ticks(Math.min(u.length,h>500?7:5)).tickFormat(lt("%d %b"))),y.append("g").attr("class","axis y-axis").call(Ct(w).ticks(5).tickFormat(_=>`$${yt(",")(_)}`)),y.append("g").attr("class","grid").call(Ct(w).ticks(5).tickSize(-h).tickFormat("")).attr("stroke-dasharray","3,3").attr("stroke-opacity",.2).select("path").attr("stroke-width",0);const $=Je().x(_=>M(_.date)).y0(w(0)).y1(_=>w(_.amount)).curve(Mt);y.append("path").datum(u).attr("fill","rgba(16, 185, 129, 0.2)").attr("d",$);const F=Qt().x(_=>M(_.date)).y(_=>w(_.amount)).curve(Mt),S=y.append("path").datum(u).attr("fill","none").attr("stroke","rgba(16, 185, 129, 0.8)").attr("stroke-width",2).attr("d",F);if(u.length>1){const _=u.map((N,z)=>z),b=u.map(N=>N.amount),x=_.reduce((N,z)=>N+z,0)/_.length,B=b.reduce((N,z)=>N+z,0)/b.length,V=_.map((N,z)=>({x:N-x,y:b[z]-B})).reduce((N,z)=>N+z.x*z.y,0)/_.map(N=>Math.pow(N-x,2)).reduce((N,z)=>N+z,0),G=B-V*x,C=_.map(N=>({date:u[N].date,amount:N*V+G}));y.append("path").datum(C).attr("fill","none").attr("stroke","rgba(16, 185, 129, 0.8)").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("d",F)}y.selectAll(".dot").data(u).enter().append("circle").attr("class","dot").attr("cx",_=>M(_.date)).attr("cy",_=>w(_.amount)).attr("r",4).attr("fill","#10B981").attr("stroke","white").attr("stroke-width",2).on("mouseover",function(_,b){j(this).transition().duration(200).attr("r",6),a.transition().duration(200).style("opacity",.9),a.html(`
        <div class="tooltip-date">${lt("%B %d, %Y")(b.date)}</div>
        <div class="tooltip-value">Profit: $${yt(",")(b.amount.toFixed(2))}</div>
      `).style("left",`${_.offsetX+10}px`).style("top",`${_.offsetY-28}px`)}).on("mouseout",function(){j(this).transition().duration(200).attr("r",4),a.transition().duration(500).style("opacity",0)});const U=S.node().getTotalLength();S.attr("stroke-dasharray",U).attr("stroke-dashoffset",U).transition().duration(1e3).attr("stroke-dashoffset",0)},f=()=>{clearTimeout(r),r=setTimeout(()=>{l()},300)};return dt(()=>e.chartData,()=>{l()},{deep:!0}),dt(()=>[e.startDate,e.endDate],()=>{l()},{deep:!0}),dt(()=>e.loading,s=>{s||setTimeout(()=>{l()},100)}),Jt(()=>{window.addEventListener("resize",f),setTimeout(()=>{e.loading||l()},200)}),qe(()=>{window.removeEventListener("resize",f),clearTimeout(r)}),(s,u)=>(Y(),R("div",ic,[t.loading?(Y(),R("div",oc,u[0]||(u[0]=[p("div",{class:"spinner"},null,-1),p("p",null,"Loading chart data...",-1)]))):!t.chartData||t.chartData.length===0?(Y(),R("div",sc,u[1]||(u[1]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),p("p",null,"No profit data available for this period",-1)]))):(Y(),R("div",{key:2,ref_key:"chartContainer",ref:n,class:"chart-container"},null,512)),u[2]||(u[2]=kr('<div class="chart-legend" data-v-78ae057b><div class="legend-item" data-v-78ae057b><div class="legend-color" style="background-color:rgba(16, 185, 129, 0.8);" data-v-78ae057b></div><span data-v-78ae057b>Profit</span></div><div class="legend-item" data-v-78ae057b><div class="legend-color legend-dashed" style="background-color:rgba(16, 185, 129, 0.2);" data-v-78ae057b></div><span data-v-78ae057b>Profit Trend</span></div></div>',1))]))}},uc=Gt(lc,[["__scopeId","data-v-78ae057b"]]),cc={key:0,class:"loading-indicator"},fc={key:1,class:"empty-state"},hc=["width","height"],dc=["d","fill"],pc=["d","stroke"],gc=["cx","cy","r","fill"],mc={__name:"ProductTrendChart",props:{chartData:{type:Array,default:()=>[]},color:{type:String,default:"#10B981"},loading:{type:Boolean,default:!1}},setup(t){const e=t,n=Z(null),r=Z(100),a=Z(40),i=rt(()=>{if(!e.chartData||e.chartData.length===0)return[];const u=e.chartData.map(y=>parseFloat(y.amount)),c=Math.min(...u),d=Math.max(...u)-c||1;return u.map(y=>35-(y-c)/d*25)}),o=rt(()=>{if(!i.value.length)return[];const u=100/Math.max(1,i.value.length-1);return i.value.map((c,h)=>({x:h*u,y:c}))}),l=rt(()=>o.value.length?o.value.reduce((u,c,h)=>u+(h===0?`M ${c.x},${c.y}`:` L ${c.x},${c.y}`),""):""),f=rt(()=>{if(!o.value.length)return"";const u=l.value,c=o.value[o.value.length-1],h=o.value[0];return`${u} L ${c.x},40 L ${h.x},40 Z`}),s=()=>{n.value&&(r.value=n.value.clientWidth,a.value=n.value.clientHeight)};return Jt(()=>{s(),window.addEventListener("resize",s)}),dt(()=>e.chartData,()=>{s()},{deep:!0}),pa(()=>{window.removeEventListener("resize",s)}),(u,c)=>(Y(),R("div",{class:"trend-chart-container",ref_key:"chartContainer",ref:n},[t.loading?(Y(),R("div",cc,c[0]||(c[0]=[p("div",{class:"loading-spinner"},null,-1)]))):!t.chartData||t.chartData.length===0?(Y(),R("div",fc,c[1]||(c[1]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),re(" No data for selected period ")]))):un("",!0),t.loading?un("",!0):(Y(),R("svg",{key:2,class:"trend-chart",width:r.value,height:a.value,viewBox:"0 0 100 40"},[p("path",{d:f.value,fill:t.color,"fill-opacity":"0.1"},null,8,dc),p("path",{d:l.value,stroke:t.color,"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},null,8,pc),(Y(!0),R(_e,null,ke(o.value,(h,d)=>(Y(),R("circle",{key:d,cx:h.x,cy:h.y,r:d===o.value.length-1?3:0,fill:t.color},null,8,gc))),128))],8,hc))],512))}},vc=Gt(mc,[["__scopeId","data-v-29ab5872"]]),yc={class:"sales-dashboard"},wc={class:"dashboard-header"},xc={class:"date-filter"},_c=["onClick"],kc={class:"custom-date-picker"},bc={class:"summary-cards"},Mc={class:"summary-card"},Dc={class:"card-content"},Sc={class:"text-2xl font-bold"},Tc={key:0,class:"trend-icon"},Cc={key:1,class:"trend-icon"},$c={class:"summary-card"},Ac={class:"card-content"},Fc={class:"text-2xl font-bold"},Nc={key:0,class:"trend-icon"},Uc={key:1,class:"trend-icon"},Pc={class:"summary-card"},Ec={class:"card-content"},Lc={class:"text-2xl font-bold"},Rc={key:0,class:"trend-icon"},Yc={key:1,class:"trend-icon"},zc={class:"summary-card"},Hc={class:"card-content"},Oc={class:"text-2xl font-bold"},Ic={key:0,class:"trend-icon"},qc={key:1,class:"trend-icon"},Bc={class:"main-charts"},Vc={class:"chart-container"},Wc={class:"chart-container"},Xc={class:"chart-header"},Zc={class:"chart-info"},Qc={class:"text-sm text-gray-500"},Gc={class:"product-analytics"},Jc={class:"product-selector"},Kc={key:0,class:"loading-message"},jc=["value"],tf={key:0,class:"product-detail"},ef={class:"product-info"},nf={class:"product-name"},rf={class:"product-metrics"},af={class:"metric"},of={class:"metric-value"},sf={class:"metric"},lf={class:"metric-value"},uf={class:"metric"},cf={class:"metric-value"},ff={class:"metric"},hf={class:"metric-value"},df={class:"product-charts"},pf={class:"product-chart"},gf={class:"product-chart"},mf={key:1,class:"top-products"},vf={class:"products-grid"},yf={class:"product-card-header"},wf=["src"],xf={class:"product-stats"},_f={class:"product-name"},kf={class:"product-numbers"},bf={class:"stat"},Mf={class:"stat-value"},Df={class:"stat"},Sf={class:"stat-value"},Tf={class:"product-trend"},Cf={class:"inventory-status"},$f={class:"inventory-cards"},Af={class:"inventory-card"},Ff={class:"card-body"},Nf={class:"text-2xl font-bold"},Uf={class:"inventory-card"},Pf={class:"card-body"},Ef={class:"text-2xl font-bold"},Lf={class:"inventory-card"},Rf={class:"card-body"},Yf={class:"text-2xl font-bold"},zf={__name:"SalesManagement",setup(t){const e=ma(),n=Z(!0),r=Z(!1),a=Z("week"),i=Z("daily"),o=Z(""),l=Z(""),f=Z(""),s=Z(15),u=Z([]),c=Z([]),h=Z([]),d=Z({});new Date().toISOString().split("T")[0];const y=[{label:"Today",value:"today"},{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Quarter",value:"quarter"},{label:"Year",value:"year"}],M=rt(()=>u.value.reduce((D,g)=>D+parseFloat(g.amount),0)),w=rt(()=>c.value.reduce((D,g)=>D+parseFloat(g.amount),0)),$=rt(()=>u.value.length),F=rt(()=>(u.value.length/1e3*100).toFixed(2)),S=rt(()=>({sales:nt(u.value,i.value),profit:nt(c.value,i.value)})),U=rt(()=>{if(!f.value)return{sales:[],profit:[]};const D=d.value[f.value]||{sales:[],profit:[]},g=k=>{if(!o.value||!l.value)return k;const A=new Date(o.value),L=new Date(l.value);return L.setHours(23,59,59,999),k.filter(O=>{const I=new Date(O.date);return I>=A&&I<=L})};return{sales:nt(g(D.sales)),profit:nt(g(D.profit))}}),_=rt(()=>[...h.value].map(g=>{const k=d.value[g.id]||{sales:[]},A=k.sales.reduce((v,T)=>v+T.amount,0),L=k.sales.reduce((v,T)=>v+T.quantity,0),O=k.sales.slice(-7).map(v=>v.amount),I=O[O.length-1]>O[0]?"#10B981":"#EF4444";return{...g,totalSales:A,unitsSold:L,trendData:O,trendColor:I}}).sort((g,k)=>k.totalSales-g.totalSales).slice(0,6)),b=Z(0),x=Z(0),B=Z(0),V=rt(()=>at(u.value)),G=rt(()=>at(c.value)),C=rt(()=>{if(u.value.length<2)return{percentage:0,icon:"up",color:"text-gray-500"};const D=Math.floor(u.value.length/2),g=u.value.slice(0,D),k=u.value.slice(D),A=g.length,L=k.length;if(A===0)return{percentage:100,icon:"up",color:"text-green-500"};const O=(L-A)/A*100;return{percentage:Math.abs(O).toFixed(1),icon:O>=0?"up":"down",color:O>=0?"text-green-500":"text-red-500"}}),N=rt(()=>{if(u.value.length<2)return{percentage:0,icon:"up",color:"text-gray-500"};const D=Math.floor(u.value.length/2),g=u.value.slice(0,D),k=u.value.slice(D),A=1e3,L=1e3,O=g.length/A*100,I=k.length/L*100;if(O===0)return{percentage:100,icon:"up",color:"text-green-500"};const v=(I-O)/O*100;return{percentage:Math.abs(v).toFixed(1),icon:v>=0?"up":"down",color:v>=0?"text-green-500":"text-red-500"}}),z=()=>{e.push("/seller/manage-products")},et=D=>{const g=parseFloat(D);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(isNaN(g)?0:g)},nt=(D,g)=>D,at=D=>{if(D.length<2)return{percentage:0,icon:"up",color:"text-gray-500"};const g=Math.floor(D.length/2),k=D.slice(0,g),A=D.slice(g),L=k.reduce((T,E)=>T+parseFloat(E.amount),0),O=A.reduce((T,E)=>T+parseFloat(E.amount),0);if(L===0)return{percentage:100,icon:"up",color:"text-green-500"};const I=(O-L)/L*100;return{percentage:Math.abs(I).toFixed(1),icon:I>=0?"up":"down",color:I>=0?"text-green-500":"text-red-500"}},ct=async()=>{n.value=!0;try{const D=new Date(o.value);D.setDate(D.getDate()-1);const g=new Date(l.value);g.setDate(g.getDate()+1);const[k,A]=await Promise.all([me.get("/seller/sales",{params:{startDate:D.toISOString().split("T")[0],endDate:g.toISOString().split("T")[0]}}),me.get("/seller/inventory-status")]);u.value=k.data,c.value=k.data.map(L=>({date:L.date,amount:L.profit})),b.value=A.data.lowStockCount,x.value=A.data.healthyStockCount,B.value=A.data.totalSkus}catch(D){console.error("Error fetching sales data:",D)}finally{n.value=!1}},it=async()=>{r.value=!0;try{const D=await me.get("/seller/products");h.value=D.data}catch(D){console.error("Error fetching products:",D)}finally{r.value=!1}},Q=async D=>{if(D){r.value=!0;try{const A=(await me.get("/seller/sales",{params:{productId:D,startDate:o.value,endDate:l.value}})).data.filter(L=>L.productId.toString()===D.toString()).map(L=>({date:new Date(L.date),amount:parseFloat(L.amount),quantity:L.quantity,profit:parseFloat(L.profit)}));d.value[D]={sales:A,profit:A}}catch(g){console.error("Error fetching product data:",g)}finally{r.value=!1}}},H=rt(()=>{if(!f.value)return null;const D=h.value.find(I=>I.id===f.value);if(!D)return null;const g=d.value[f.value];if(!g)return D;const k=g.sales.reduce((I,v)=>I+parseFloat(v.amount),0),A=g.profit.reduce((I,v)=>I+parseFloat(v.amount),0),L=g.sales.reduce((I,v)=>I+v.quantity,0),O=k>0?(A/k*100).toFixed(2):0;return{...D,totalSales:k,unitsSold:L,profitMargin:O}});dt(f,D=>{D&&Q(D)}),dt([o,l],()=>{f.value&&Q(f.value)}),Jt(()=>{a.value="today",P("today"),it()});const P=D=>{a.value=D;const g=new Date;let k,A;switch(D){case"today":k=new Date(g),A=new Date(g);break;case"week":k=new Date(g),k.setDate(g.getDate()-g.getDay()),A=new Date(g),A.setDate(g.getDate()+(6-g.getDay()));break;case"month":k=new Date(g.getFullYear(),g.getMonth(),1),A=new Date(g.getFullYear(),g.getMonth()+1,0);break;case"quarter":const O=Math.floor(g.getMonth()/3)*3;k=new Date(g.getFullYear(),O,1),A=new Date(g.getFullYear(),O+3,0);break;case"year":k=new Date(g.getFullYear(),0,1),A=new Date(g.getFullYear(),11,31);break;default:return}const L=(O,I=!1)=>{const v=new Date(O);return I?v.setHours(23,59,59,999):v.setHours(0,0,0,0),v.toISOString().split("T")[0]};o.value=L(k),l.value=L(A,!0),ct(),f.value&&Q(f.value)};return(D,g)=>(Y(),R("div",yc,[p("header",wc,[g[6]||(g[6]=p("h1",{class:"text-2xl font-bold"},"Sales Dashboard",-1)),p("div",xc,[(Y(),R(_e,null,ke(y,k=>p("button",{key:k.value,class:Yt(["filter-btn",{active:a.value===k.value}]),onClick:A=>P(k.value)},X(k.label),11,_c)),64)),p("div",kc,[Ke(p("input",{type:"date","onUpdate:modelValue":g[0]||(g[0]=k=>o.value=k),class:"form-input date-input",onChange:g[1]||(g[1]=k=>P("custom"))},null,544),[[zn,o.value]]),g[5]||(g[5]=p("span",null,"to",-1)),Ke(p("input",{type:"date","onUpdate:modelValue":g[2]||(g[2]=k=>l.value=k),class:"form-input date-input",onChange:g[3]||(g[3]=k=>P("custom"))},null,544),[[zn,l.value]]),p("button",{class:Yt(["filter-btn",{active:a.value==="custom"}]),onClick:ct}," Apply ",2)])])]),p("div",bc,[p("div",Mc,[g[8]||(g[8]=p("div",{class:"card-icon bg-blue-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),p("div",Dc,[g[7]||(g[7]=p("h3",{class:"text-gray-500"},"Total Sales",-1)),p("p",Sc,X(et(M.value)),1),p("p",{class:Yt(["text-sm",V.value.color])},[V.value.icon==="up"?(Y(),R("span",Tc,"↑")):(Y(),R("span",Cc,"↓")),re(" "+X(V.value.percentage)+"% from previous period ",1)],2)])]),p("div",$c,[g[10]||(g[10]=p("div",{class:"card-icon bg-green-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),p("div",Ac,[g[9]||(g[9]=p("h3",{class:"text-gray-500"},"Total Profit",-1)),p("p",Fc,X(et(w.value)),1),p("p",{class:Yt(["text-sm",G.value.color])},[G.value.icon==="up"?(Y(),R("span",Nc,"↑")):(Y(),R("span",Uc,"↓")),re(" "+X(G.value.percentage)+"% from previous period ",1)],2)])]),p("div",Pc,[g[12]||(g[12]=p("div",{class:"card-icon bg-purple-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),p("div",Ec,[g[11]||(g[11]=p("h3",{class:"text-gray-500"},"Orders",-1)),p("p",Lc,X($.value),1),p("p",{class:Yt(["text-sm",C.value.color])},[C.value.icon==="up"?(Y(),R("span",Rc,"↑")):(Y(),R("span",Yc,"↓")),re(" "+X(C.value.percentage)+"% from previous period ",1)],2)])]),p("div",zc,[g[14]||(g[14]=p("div",{class:"card-icon bg-amber-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})])],-1)),p("div",Hc,[g[13]||(g[13]=p("h3",{class:"text-gray-500"},"Conversion Rate",-1)),p("p",Oc,X(F.value)+"%",1),p("p",{class:Yt(["text-sm",N.value.color])},[N.value.icon==="up"?(Y(),R("span",Ic,"↑")):(Y(),R("span",qc,"↓")),re(" "+X(N.value.percentage)+"% from previous period ",1)],2)])])]),p("div",Bc,[p("div",Vc,[g[15]||(g[15]=p("div",{class:"chart-header"},[p("h2",{class:"chart-title"},"Sales Performance")],-1)),Kt(Zu,{"chart-data":S.value.sales,view:i.value,"time-frame":a.value,"start-date":o.value,"end-date":l.value,loading:n.value},null,8,["chart-data","view","time-frame","start-date","end-date","loading"])]),p("div",Wc,[p("div",Xc,[g[16]||(g[16]=p("h2",{class:"chart-title"},"Profit After Platform Cut",-1)),p("div",Zc,[p("span",Qc,"Platform Fee: "+X(s.value)+"%",1)])]),Kt(ju,{"chart-data":S.value.profit,view:i.value,"time-frame":a.value,"start-date":o.value,"end-date":l.value,loading:n.value},null,8,["chart-data","view","time-frame","start-date","end-date","loading"])])]),p("div",Gc,[g[28]||(g[28]=p("h2",{class:"section-title"},"Product Performance",-1)),p("div",Jc,[g[18]||(g[18]=p("label",{for:"productSelect",class:"text-gray-700"},"Select Product:",-1)),r.value?(Y(),R("div",Kc," Loading products... ")):un("",!0),Ke(p("select",{id:"productSelect","onUpdate:modelValue":g[4]||(g[4]=k=>f.value=k),class:"form-select"},[g[17]||(g[17]=p("option",{value:""},"All Products",-1)),(Y(!0),R(_e,null,ke(h.value,k=>(Y(),R("option",{key:k.id,value:k.id},X(k.name),9,jc))),128))],512),[[ga,f.value]])]),f.value?(Y(),R("div",tf,[p("div",ef,[p("h3",nf,X(H.value.name),1),p("div",rf,[p("div",af,[g[19]||(g[19]=p("span",{class:"metric-label"},"Total Sales:",-1)),p("span",of,X(et(H.value.totalSales)),1)]),p("div",sf,[g[20]||(g[20]=p("span",{class:"metric-label"},"Units Sold:",-1)),p("span",lf,X(H.value.unitsSold),1)]),p("div",uf,[g[21]||(g[21]=p("span",{class:"metric-label"},"Current Stock:",-1)),p("span",cf,X(H.value.stock),1)]),p("div",ff,[g[22]||(g[22]=p("span",{class:"metric-label"},"Profit Margin:",-1)),p("span",hf,X(H.value.profitMargin)+"%",1)])])]),p("div",df,[p("div",pf,[g[23]||(g[23]=p("h4",{class:"chart-subtitle"},"Sales Trend",-1)),Kt(ac,{"chart-data":U.value.sales,loading:r.value,"start-date":o.value,"end-date":l.value},null,8,["chart-data","loading","start-date","end-date"])]),p("div",gf,[g[24]||(g[24]=p("h4",{class:"chart-subtitle"},"Profit Trend",-1)),Kt(uc,{"chart-data":U.value.profit,loading:r.value,"start-date":o.value,"end-date":l.value},null,8,["chart-data","loading","start-date","end-date"])])])])):(Y(),R("div",mf,[g[27]||(g[27]=p("h3",{class:"subsection-title"},"Top Performing Products",-1)),p("div",vf,[(Y(!0),R(_e,null,ke(_.value,k=>(Y(),R("div",{key:k.id,class:"product-card"},[p("div",yf,[p("img",{src:k.image||"/images/placeholder.png",alt:"Product",class:"product-image"},null,8,wf),p("div",xf,[p("h4",_f,X(k.name),1),p("div",kf,[p("div",bf,[g[25]||(g[25]=p("span",{class:"stat-label"},"Sales",-1)),p("span",Mf,X(et(k.totalSales)),1)]),p("div",Df,[g[26]||(g[26]=p("span",{class:"stat-label"},"Units",-1)),p("span",Sf,X(k.unitsSold),1)])])])]),p("div",Tf,[Kt(vc,{"chart-data":u.value,loading:n.value},null,8,["chart-data","loading"])])]))),128))])]))]),p("div",Cf,[p("div",{class:"inventory-header"},[g[29]||(g[29]=p("h2",{class:"section-title"},"Inventory Status",-1)),p("button",{class:"btn-primary",onClick:z},"Manage Inventory")]),p("div",$f,[p("div",Af,[g[31]||(g[31]=p("div",{class:"card-header bg-red-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),p("h3",{class:"text-red-600"},"Low Stock Items")],-1)),p("div",Ff,[p("p",Nf,X(b.value),1),g[30]||(g[30]=p("p",{class:"text-sm text-gray-500"},"Products below threshold",-1))])]),p("div",Uf,[g[33]||(g[33]=p("div",{class:"card-header bg-green-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),p("h3",{class:"text-green-600"},"Healthy Stock")],-1)),p("div",Pf,[p("p",Ef,X(x.value),1),g[32]||(g[32]=p("p",{class:"text-sm text-gray-500"},"Products with adequate stock",-1))])]),p("div",Lf,[g[35]||(g[35]=p("div",{class:"card-header bg-blue-100"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})]),p("h3",{class:"text-blue-600"},"Total SKUs")],-1)),p("div",Rf,[p("p",Yf,X(B.value),1),g[34]||(g[34]=p("p",{class:"text-sm text-gray-500"},"Active products",-1))])])])])]))}},Of=Gt(zf,[["__scopeId","data-v-d1b5da68"]]);export{Of as default};
