import{_,L as C,e as x,M as V,f as M,c as r,a as t,p as n,N as d,F as y,q as b,b as c,w as v,d as f,r as N,O as w,y as B,o as s,C as L}from"./index-Clrnze2-.js";const S={class:"min-h-screen bg-gray-50"},j={class:"container mx-auto px-4 py-8"},D={key:0,class:"space-y-8"},P={key:1},A={key:0,class:"text-center py-16 bg-white rounded-lg shadow-sm"},F={key:1,class:"space-y-8"},R={class:"space-y-6"},T={key:2,class:"mt-12"},q={class:"flex justify-between items-center border-b pb-2 mb-6"},z={__name:"OrdersPage",setup(E){const a=C(),i=x(null),{currentOrders:k,loading:h,hasCurrentOrders:m}=V(a),u=x(null);M(async()=>{await Promise.all([a.fetchCurrentOrders(),O()])});const O=async()=>{var e;const o=await a.fetchCompletedOrders(1,1);(e=o==null?void 0:o.orders)!=null&&e.length&&(u.value=o.orders[0])},p=o=>{i.value=o};return(o,e)=>{const g=N("router-link");return s(),r("div",S,[t("div",j,[e[8]||(e[8]=t("h1",{class:"text-4xl font-bold text-center mb-8 text-gray-800"}," My Orders ",-1)),d(h)?(s(),r("div",D,[(s(),r(y,null,b(2,l=>t("div",{key:l,class:"bg-white rounded-lg p-6 animate-pulse"},e[1]||(e[1]=[t("div",{class:"h-4 bg-gray-200 rounded w-3/4 mb-4"},null,-1),t("div",{class:"h-2 bg-gray-200 rounded mb-2"},null,-1),t("div",{class:"h-2 bg-gray-200 rounded w-5/6"},null,-1)]))),64))])):(s(),r("section",P,[d(m)?n("",!0):(s(),r("div",A,[e[3]||(e[3]=t("div",{class:"inline-block p-4 rounded-full bg-gray-100 mb-4"},[t("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),e[4]||(e[4]=t("p",{class:"text-xl text-gray-500 mb-4"},"No current orders found",-1)),c(g,{to:"/",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700"},{default:v(()=>e[2]||(e[2]=[f(" Start Shopping ")])),_:1})])),d(m)?(s(),r("div",F,[e[5]||(e[5]=t("h2",{class:"text-2xl font-semibold text-gray-800 border-b pb-2"},"Active Orders",-1)),t("div",R,[(s(!0),r(y,null,b(d(k),l=>(s(),L(w,{key:l.id,order:l,onViewDetails:p},null,8,["order"]))),128))])])):n("",!0),u.value?(s(),r("div",T,[t("div",q,[e[7]||(e[7]=t("h2",{class:"text-2xl font-semibold text-gray-800"}," Recently Completed ",-1)),c(g,{to:"/order-history",class:"text-indigo-600 hover:text-indigo-500 font-medium"},{default:v(()=>e[6]||(e[6]=[f(" View All Completed Orders â†’ ")])),_:1})]),c(w,{order:u.value,"is-completed":!0,onViewDetails:p},null,8,["order"])])):n("",!0)]))]),i.value?(s(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:e[0]||(e[0]=B(l=>i.value=null,["self"]))},e[9]||(e[9]=[t("div",{class:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},null,-1)]))):n("",!0)])}}},I=_(z,[["__scopeId","data-v-ccd13040"]]);export{I as default};
